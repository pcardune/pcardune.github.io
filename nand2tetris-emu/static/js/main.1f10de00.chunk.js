(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{59:function(e,t,n){(function(t,r,o){var i=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||t,function(t){var i,a,s="undefined"!==typeof(t=t||{})?t:{};s.ready=new Promise((function(e,t){i=e,a=t})),Object.getOwnPropertyDescriptor(s.ready,"_main")||(Object.defineProperty(s.ready,"_main",{configurable:!0,get:function(){me("You are getting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(s.ready,"_main",{configurable:!0,set:function(){me("You are setting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(s.ready,"_emscripten_stack_get_end")||(Object.defineProperty(s.ready,"_emscripten_stack_get_end",{configurable:!0,get:function(){me("You are getting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(s.ready,"_emscripten_stack_get_end",{configurable:!0,set:function(){me("You are setting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(s.ready,"_emscripten_stack_get_free")||(Object.defineProperty(s.ready,"_emscripten_stack_get_free",{configurable:!0,get:function(){me("You are getting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(s.ready,"_emscripten_stack_get_free",{configurable:!0,set:function(){me("You are setting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(s.ready,"_emscripten_stack_init")||(Object.defineProperty(s.ready,"_emscripten_stack_init",{configurable:!0,get:function(){me("You are getting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(s.ready,"_emscripten_stack_init",{configurable:!0,set:function(){me("You are setting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(s.ready,"_stackSave")||(Object.defineProperty(s.ready,"_stackSave",{configurable:!0,get:function(){me("You are getting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(s.ready,"_stackSave",{configurable:!0,set:function(){me("You are setting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(s.ready,"_stackRestore")||(Object.defineProperty(s.ready,"_stackRestore",{configurable:!0,get:function(){me("You are getting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(s.ready,"_stackRestore",{configurable:!0,set:function(){me("You are setting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(s.ready,"_stackAlloc")||(Object.defineProperty(s.ready,"_stackAlloc",{configurable:!0,get:function(){me("You are getting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(s.ready,"_stackAlloc",{configurable:!0,set:function(){me("You are setting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(s.ready,"___wasm_call_ctors")||(Object.defineProperty(s.ready,"___wasm_call_ctors",{configurable:!0,get:function(){me("You are getting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(s.ready,"___wasm_call_ctors",{configurable:!0,set:function(){me("You are setting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(s.ready,"_fflush")||(Object.defineProperty(s.ready,"_fflush",{configurable:!0,get:function(){me("You are getting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(s.ready,"_fflush",{configurable:!0,set:function(){me("You are setting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(s.ready,"___errno_location")||(Object.defineProperty(s.ready,"___errno_location",{configurable:!0,get:function(){me("You are getting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(s.ready,"___errno_location",{configurable:!0,set:function(){me("You are setting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(s.ready,"onRuntimeInitialized")||(Object.defineProperty(s.ready,"onRuntimeInitialized",{configurable:!0,get:function(){me("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(s.ready,"onRuntimeInitialized",{configurable:!0,set:function(){me("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}));var c,d={};for(c in s)s.hasOwnProperty(c)&&(d[c]=s[c]);var u=[],l=!1,h=!1,p=!1,E=!1;if(l="object"===typeof window,h="function"===typeof importScripts,p="object"===typeof r&&"object"===typeof r.versions&&"string"===typeof r.versions.node,E=!l&&!p&&!h,s.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var T,f,g,O,m,b="";function _(e){return s.locateFile?s.locateFile(e,b):b+e}if(p)b=h?n(57).dirname(b)+"/":o+"/",T=function(e,t){return O||(O=n(70)),m||(m=n(57)),e=m.normalize(e),O.readFileSync(e,t?null:"utf8")},g=function(e){var t=T(e,!0);return t.buffer||(t=new Uint8Array(t)),P(t.buffer),t},r.argv.length>1&&r.argv[1].replace(/\\/g,"/"),u=r.argv.slice(2),r.on("uncaughtException",(function(e){if(!(e instanceof $e))throw e})),r.on("unhandledRejection",me),function(e){r.exit(e)},s.inspect=function(){return"[Emscripten Module object]"};else if(E)"undefined"!=typeof read&&(T=function(e){return read(e)}),g=function(e){var t;return"function"===typeof readbuffer?new Uint8Array(readbuffer(e)):(P("object"===typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?u=scriptArgs:"undefined"!=typeof arguments&&(u=arguments),"function"===typeof quit&&function(e){quit(e)},"undefined"!==typeof print&&("undefined"===typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!==typeof printErr?printErr:print);else{if(!l&&!h)throw new Error("environment detection error");h?b=self.location.href:"undefined"!==typeof document&&document.currentScript&&(b=document.currentScript.src),e&&(b=e),b=0!==b.indexOf("blob:")?b.substr(0,b.lastIndexOf("/")+1):"",T=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},h&&(g=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},function(e){document.title=e}}var w=s.print||console.log.bind(console),y=s.printErr||console.warn.bind(console);for(c in d)d.hasOwnProperty(c)&&(s[c]=d[c]);d=null,s.arguments&&(u=s.arguments),Object.getOwnPropertyDescriptor(s,"arguments")||Object.defineProperty(s,"arguments",{configurable:!0,get:function(){me("Module.arguments has been replaced with plain arguments_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),s.thisProgram&&s.thisProgram,Object.getOwnPropertyDescriptor(s,"thisProgram")||Object.defineProperty(s,"thisProgram",{configurable:!0,get:function(){me("Module.thisProgram has been replaced with plain thisProgram (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),s.quit&&s.quit,Object.getOwnPropertyDescriptor(s,"quit")||Object.defineProperty(s,"quit",{configurable:!0,get:function(){me("Module.quit has been replaced with plain quit_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),P("undefined"===typeof s.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),P("undefined"===typeof s.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),P("undefined"===typeof s.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),P("undefined"===typeof s.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),P("undefined"===typeof s.read,"Module.read option was removed (modify read_ in JS)"),P("undefined"===typeof s.readAsync,"Module.readAsync option was removed (modify readAsync in JS)"),P("undefined"===typeof s.readBinary,"Module.readBinary option was removed (modify readBinary in JS)"),P("undefined"===typeof s.setWindowTitle,"Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),P("undefined"===typeof s.TOTAL_MEMORY,"Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Object.getOwnPropertyDescriptor(s,"read")||Object.defineProperty(s,"read",{configurable:!0,get:function(){me("Module.read has been replaced with plain read_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(s,"readAsync")||Object.defineProperty(s,"readAsync",{configurable:!0,get:function(){me("Module.readAsync has been replaced with plain readAsync (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(s,"readBinary")||Object.defineProperty(s,"readBinary",{configurable:!0,get:function(){me("Module.readBinary has been replaced with plain readBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(s,"setWindowTitle")||Object.defineProperty(s,"setWindowTitle",{configurable:!0,get:function(){me("Module.setWindowTitle has been replaced with plain setWindowTitle (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}});function D(e){D.shown||(D.shown={}),D.shown[e]||(D.shown[e]=1,y(e))}var v,R=function(e){e};s.wasmBinary&&(v=s.wasmBinary),Object.getOwnPropertyDescriptor(s,"wasmBinary")||Object.defineProperty(s,"wasmBinary",{configurable:!0,get:function(){me("Module.wasmBinary has been replaced with plain wasmBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}});var A;s.noExitRuntime;function k(e,t,n,r){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":C[e>>0]=t;break;case"i16":Q[e>>1]=t;break;case"i32":G[e>>2]=t;break;case"i64":ke=[t>>>0,(Ae=t,+Math.abs(Ae)>=1?Ae>0?(0|Math.min(+Math.floor(Ae/4294967296),4294967295))>>>0:~~+Math.ceil((Ae-+(~~Ae>>>0))/4294967296)>>>0:0)],G[e>>2]=ke[0],G[e+4>>2]=ke[1];break;case"float":z[e>>2]=t;break;case"double":B[e>>3]=t;break;default:me("invalid type for setValue: "+n)}}function M(e,t,n){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return C[e>>0];case"i16":return Q[e>>1];case"i32":case"i64":return G[e>>2];case"float":return z[e>>2];case"double":return B[e>>3];default:me("invalid type for getValue: "+t)}return null}Object.getOwnPropertyDescriptor(s,"noExitRuntime")||Object.defineProperty(s,"noExitRuntime",{configurable:!0,get:function(){me("Module.noExitRuntime has been replaced with plain noExitRuntime (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),"object"!==typeof WebAssembly&&me("no native wasm support detected");var S=!1;function P(e,t){e||me("Assertion failed: "+t)}function I(e){var t=s["_"+e];return P(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function j(e,t,n,r,o){var i={string:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);L(e,t=Je(n),n)}return t},array:function(e){var t=Je(e.length);return Y(e,t),t}};var a=I(e),s=[],c=0;if(P("array"!==t,'Return type should not be "array".'),r)for(var d=0;d<r.length;d++){var u=i[n[d]];u?(0===c&&(c=Ke()),s[d]=u(r[d])):s[d]=r[d]}var l=a.apply(null,s);return l=function(e){return"string"===t?X(e):"boolean"===t?Boolean(e):e}(l),0!==c&&Ve(c),l}function x(e,t,n,r){return function(){return j(e,t,n,arguments)}}var F="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function N(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.subarray&&F)return F.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var c=63&e[t++];if(224==(240&a)?a=(15&a)<<12|s<<6|c:(240!=(248&a)&&D("Invalid UTF-8 leading byte 0x"+a.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),a=(7&a)<<18|s<<12|c<<6|63&e[t++]),a<65536)i+=String.fromCharCode(a);else{var d=a-65536;i+=String.fromCharCode(55296|d>>10,56320|1023&d)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function X(e,t){return e?N(H,e,t):""}function U(e,t,n,r){if(!(r>0))return 0;for(var o=n,i=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a);if(s<=127){if(n>=i)break;t[n++]=s}else if(s<=2047){if(n+1>=i)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=i)break;s>=2097152&&D("Invalid Unicode code point 0x"+s.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x1FFFFF)."),t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-o}function L(e,t,n){return P("number"==typeof n,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),U(e,H,t,n)}var C,H,Q,G,W,z,B;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function Y(e,t){P(e.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),C.set(e,t)}function K(e){e,s.HEAP8=C=new Int8Array(e),s.HEAP16=Q=new Int16Array(e),s.HEAP32=G=new Int32Array(e),s.HEAPU8=H=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=W=new Uint32Array(e),s.HEAPF32=z=new Float32Array(e),s.HEAPF64=B=new Float64Array(e)}var V=5242880;s.TOTAL_STACK&&P(V===s.TOTAL_STACK,"the stack size can no longer be determined at runtime");var J,q=s.INITIAL_MEMORY||16777216;function Z(){var e=Ze();P(0==(3&e)),W[1+(e>>2)]=34821223,W[2+(e>>2)]=2310721022,G[0]=1668509029}function $(){if(!S){var e=Ze(),t=W[1+(e>>2)],n=W[2+(e>>2)];34821223==t&&2310721022==n||me("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+n.toString(16)+" "+t.toString(16)),1668509029!==G[0]&&me("Runtime error: The application has corrupted its heap memory area (address zero)!")}}Object.getOwnPropertyDescriptor(s,"INITIAL_MEMORY")||Object.defineProperty(s,"INITIAL_MEMORY",{configurable:!0,get:function(){me("Module.INITIAL_MEMORY has been replaced with plain INITIAL_MEMORY (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),P(q>=V,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+q+"! (TOTAL_STACK="+V+")"),P("undefined"!==typeof Int32Array&&"undefined"!==typeof Float64Array&&void 0!==Int32Array.prototype.subarray&&void 0!==Int32Array.prototype.set,"JS engine does not provide full typed array support"),P(!s.wasmMemory,"Use of `wasmMemory` detected.  Use -s IMPORTED_MEMORY to define wasmMemory externally"),P(16777216==q,"Detected runtime INITIAL_MEMORY setting.  Use -s IMPORTED_MEMORY to define wasmMemory dynamically"),function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,115!==t[0]||99!==t[1])throw"Runtime error: expected the system to be little-endian! (Run with -s SUPPORT_BIG_ENDIAN=1 to bypass)"}();var ee=[],te=[],ne=[],re=[],oe=!1,ie=!1;function ae(){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)ue(s.preRun.shift());je(ee)}function se(){$(),P(!oe),oe=!0,je(te)}function ce(){$(),je(ne)}function de(){if($(),s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;)he(s.postRun.shift());je(re)}function ue(e){ee.unshift(e)}function le(e){te.unshift(e)}function he(e){re.unshift(e)}P(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),P(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),P(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),P(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var pe=0,Ee=null,Te=null,fe={};function ge(e){pe++,s.monitorRunDependencies&&s.monitorRunDependencies(pe),e?(P(!fe[e]),fe[e]=1,null===Ee&&"undefined"!==typeof setInterval&&(Ee=setInterval((function(){if(S)return clearInterval(Ee),void(Ee=null);var e=!1;for(var t in fe)e||(e=!0,y("still waiting on run dependencies:")),y("dependency: "+t);e&&y("(end of list)")}),1e4))):y("warning: run dependency added without ID")}function Oe(e){if(pe--,s.monitorRunDependencies&&s.monitorRunDependencies(pe),e?(P(fe[e]),delete fe[e]):y("warning: run dependency removed without ID"),0==pe&&(null!==Ee&&(clearInterval(Ee),Ee=null),Te)){var t=Te;Te=null,t()}}function me(e){s.onAbort&&s.onAbort(e),y(e+=""),S=!0,1,e="abort("+e+") at "+Xe();var t=new WebAssembly.RuntimeError(e);throw a(t),t}s.preloadedImages={},s.preloadedAudios={};var be={error:function(){me("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with  -s FORCE_FILESYSTEM=1")},init:function(){be.error()},createDataFile:function(){be.error()},createPreloadedFile:function(){be.error()},createLazyFile:function(){be.error()},open:function(){be.error()},mkdev:function(){be.error()},registerDevice:function(){be.error()},analyzePath:function(){be.error()},loadFilesFromDB:function(){be.error()},ErrnoError:function(){be.error()}};function _e(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}s.FS_createDataFile=be.createDataFile,s.FS_createPreloadedFile=be.createPreloadedFile;var we="data:application/octet-stream;base64,";function ye(e){return _e(e,we)}var De="file://";function ve(e){return _e(e,De)}function Re(e,t){return function(){var n=e,r=t;return t||(r=s.asm),P(oe,"native function `"+n+"` called before runtime initialization"),P(!ie,"native function `"+n+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),r[e]||P(r[e],"exported native function `"+n+"` not found"),r[e].apply(null,arguments)}}var Ae,ke,Me="hack.wasm";function Se(e){try{if(e==Me&&v)return new Uint8Array(v);if(g)return g(e);throw"both async and sync fetching of the wasm failed"}catch(y){me(y)}}function Pe(){if(!v&&(l||h)){if("function"===typeof fetch&&!ve(Me))return fetch(Me,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Me+"'";return e.arrayBuffer()})).catch((function(){return Se(Me)}));if(f)return new Promise((function(e,t){f(Me,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return Se(Me)}))}function Ie(){var e={env:Ye,wasi_snapshot_preview1:Ye};function t(e,t){var n=e.exports;s.asm=n,P(A=s.asm.memory,"memory not found in wasm exports"),K(A.buffer),P(J=s.asm.__indirect_function_table,"table not found in wasm exports"),le(s.asm.__wasm_call_ctors),Oe("wasm-instantiate")}ge("wasm-instantiate");var n=s;function r(e){P(s===n,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),n=null,t(e.instance)}function o(t){return Pe().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){y("failed to asynchronously prepare wasm: "+e),ve(Me)&&y("warning: Loading from a file URI ("+Me+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing"),me(e)}))}if(s.instantiateWasm)try{return s.instantiateWasm(e,t)}catch(i){return y("Module.instantiateWasm callback failed with error: "+i),!1}return(v||"function"!==typeof WebAssembly.instantiateStreaming||ye(Me)||ve(Me)||"function"!==typeof fetch?o(r):fetch(Me,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){return y("wasm streaming compile failed: "+e),y("falling back to ArrayBuffer instantiation"),o(r)}))}))).catch(a),{}}ye(Me)||(Me=_(Me));function je(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"===typeof n?void 0===t.arg?J.get(n)():J.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(s)}}function xe(e){return D("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),e}function Fe(e){return e.replace(/\b_Z[\w\d_]+/g,(function(e){var t=xe(e);return e===t?e:t+" ["+e+"]"}))}function Ne(){var e=new Error;if(!e.stack){try{throw new Error}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function Xe(){var e=Ne();return s.extraStackTrace&&(e+="\n"+s.extraStackTrace()),Fe(e)}function Ue(e,t,n){H.copyWithin(e,t,t+n)}function Le(e){me("Cannot enlarge memory arrays to size "+e+" bytes (OOM). Either (1) compile with  -s INITIAL_MEMORY=X  with X higher than the current value "+C.length+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function Ce(e){H.length;Le(e)}var He={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=He.buffers[e];P(n),0===t||10===t?((1===e?w:y)(N(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return P(void 0!=He.varargs),He.varargs+=4,G[He.varargs-4>>2]},getStr:function(e){return X(e)},get64:function(e,t){return P(e>=0?0===t:-1===t),e}};function Qe(e){return me("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM"),0}function Ge(e,t,n,r,o){me("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")}function We(e,t,n,r){for(var o=0,i=0;i<n;i++){for(var a=G[t+8*i>>2],s=G[t+(8*i+4)>>2],c=0;c<s;c++)He.printChar(e,H[a+c]);o+=s}return G[r>>2]=o,0}function ze(e){R(0|e)}var Be,Ye={emscripten_memcpy_big:Ue,emscripten_resize_heap:Ce,fd_close:Qe,fd_seek:Ge,fd_write:We,setTempRet0:ze},Ke=(Ie(),s.___wasm_call_ctors=Re("__wasm_call_ctors"),s._load_program=Re("load_program"),s._reset=Re("reset"),s._tick=Re("tick"),s._render_screen=Re("render_screen"),s._free_screen=Re("free_screen"),s.___errno_location=Re("__errno_location"),s._fflush=Re("fflush"),s.stackSave=Re("stackSave")),Ve=s.stackRestore=Re("stackRestore"),Je=s.stackAlloc=Re("stackAlloc"),qe=s._emscripten_stack_init=function(){return(qe=s._emscripten_stack_init=s.asm.emscripten_stack_init).apply(null,arguments)},Ze=(s._emscripten_stack_get_free=function(){return(s._emscripten_stack_get_free=s.asm.emscripten_stack_get_free).apply(null,arguments)},s._emscripten_stack_get_end=function(){return(Ze=s._emscripten_stack_get_end=s.asm.emscripten_stack_get_end).apply(null,arguments)});s.dynCall_jiji=Re("dynCall_jiji");function $e(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}Object.getOwnPropertyDescriptor(s,"intArrayFromString")||(s.intArrayFromString=function(){me("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"intArrayToString")||(s.intArrayToString=function(){me("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"ccall")||(s.ccall=function(){me("'ccall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),s.cwrap=x,s.setValue=k,s.getValue=M,Object.getOwnPropertyDescriptor(s,"allocate")||(s.allocate=function(){me("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"UTF8ArrayToString")||(s.UTF8ArrayToString=function(){me("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"UTF8ToString")||(s.UTF8ToString=function(){me("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"stringToUTF8Array")||(s.stringToUTF8Array=function(){me("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"stringToUTF8")||(s.stringToUTF8=function(){me("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"lengthBytesUTF8")||(s.lengthBytesUTF8=function(){me("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"stackTrace")||(s.stackTrace=function(){me("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"addOnPreRun")||(s.addOnPreRun=function(){me("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"addOnInit")||(s.addOnInit=function(){me("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"addOnPreMain")||(s.addOnPreMain=function(){me("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"addOnExit")||(s.addOnExit=function(){me("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"addOnPostRun")||(s.addOnPostRun=function(){me("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"writeStringToMemory")||(s.writeStringToMemory=function(){me("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"writeArrayToMemory")||(s.writeArrayToMemory=function(){me("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"writeAsciiToMemory")||(s.writeAsciiToMemory=function(){me("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"addRunDependency")||(s.addRunDependency=function(){me("'addRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(s,"removeRunDependency")||(s.removeRunDependency=function(){me("'removeRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(s,"FS_createFolder")||(s.FS_createFolder=function(){me("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"FS_createPath")||(s.FS_createPath=function(){me("'FS_createPath' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(s,"FS_createDataFile")||(s.FS_createDataFile=function(){me("'FS_createDataFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(s,"FS_createPreloadedFile")||(s.FS_createPreloadedFile=function(){me("'FS_createPreloadedFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(s,"FS_createLazyFile")||(s.FS_createLazyFile=function(){me("'FS_createLazyFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(s,"FS_createLink")||(s.FS_createLink=function(){me("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"FS_createDevice")||(s.FS_createDevice=function(){me("'FS_createDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(s,"FS_unlink")||(s.FS_unlink=function(){me("'FS_unlink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(s,"getLEB")||(s.getLEB=function(){me("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"getFunctionTables")||(s.getFunctionTables=function(){me("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"alignFunctionTables")||(s.alignFunctionTables=function(){me("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerFunctions")||(s.registerFunctions=function(){me("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"addFunction")||(s.addFunction=function(){me("'addFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"removeFunction")||(s.removeFunction=function(){me("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"getFuncWrapper")||(s.getFuncWrapper=function(){me("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"prettyPrint")||(s.prettyPrint=function(){me("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"makeBigInt")||(s.makeBigInt=function(){me("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"dynCall")||(s.dynCall=function(){me("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"getCompilerSetting")||(s.getCompilerSetting=function(){me("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"print")||(s.print=function(){me("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"printErr")||(s.printErr=function(){me("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"getTempRet0")||(s.getTempRet0=function(){me("'getTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"setTempRet0")||(s.setTempRet0=function(){me("'setTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"callMain")||(s.callMain=function(){me("'callMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"abort")||(s.abort=function(){me("'abort' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"stringToNewUTF8")||(s.stringToNewUTF8=function(){me("'stringToNewUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"setFileTime")||(s.setFileTime=function(){me("'setFileTime' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"abortOnCannotGrowMemory")||(s.abortOnCannotGrowMemory=function(){me("'abortOnCannotGrowMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"emscripten_realloc_buffer")||(s.emscripten_realloc_buffer=function(){me("'emscripten_realloc_buffer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"ENV")||(s.ENV=function(){me("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"ERRNO_CODES")||(s.ERRNO_CODES=function(){me("'ERRNO_CODES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"ERRNO_MESSAGES")||(s.ERRNO_MESSAGES=function(){me("'ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"setErrNo")||(s.setErrNo=function(){me("'setErrNo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"inetPton4")||(s.inetPton4=function(){me("'inetPton4' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"inetNtop4")||(s.inetNtop4=function(){me("'inetNtop4' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"inetPton6")||(s.inetPton6=function(){me("'inetPton6' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"inetNtop6")||(s.inetNtop6=function(){me("'inetNtop6' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"readSockaddr")||(s.readSockaddr=function(){me("'readSockaddr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"writeSockaddr")||(s.writeSockaddr=function(){me("'writeSockaddr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"DNS")||(s.DNS=function(){me("'DNS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"getHostByName")||(s.getHostByName=function(){me("'getHostByName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"GAI_ERRNO_MESSAGES")||(s.GAI_ERRNO_MESSAGES=function(){me("'GAI_ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"Protocols")||(s.Protocols=function(){me("'Protocols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"Sockets")||(s.Sockets=function(){me("'Sockets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"getRandomDevice")||(s.getRandomDevice=function(){me("'getRandomDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"traverseStack")||(s.traverseStack=function(){me("'traverseStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"UNWIND_CACHE")||(s.UNWIND_CACHE=function(){me("'UNWIND_CACHE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"withBuiltinMalloc")||(s.withBuiltinMalloc=function(){me("'withBuiltinMalloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"readAsmConstArgsArray")||(s.readAsmConstArgsArray=function(){me("'readAsmConstArgsArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"readAsmConstArgs")||(s.readAsmConstArgs=function(){me("'readAsmConstArgs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"mainThreadEM_ASM")||(s.mainThreadEM_ASM=function(){me("'mainThreadEM_ASM' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"jstoi_q")||(s.jstoi_q=function(){me("'jstoi_q' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"jstoi_s")||(s.jstoi_s=function(){me("'jstoi_s' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"getExecutableName")||(s.getExecutableName=function(){me("'getExecutableName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"listenOnce")||(s.listenOnce=function(){me("'listenOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"autoResumeAudioContext")||(s.autoResumeAudioContext=function(){me("'autoResumeAudioContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"dynCallLegacy")||(s.dynCallLegacy=function(){me("'dynCallLegacy' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"getDynCaller")||(s.getDynCaller=function(){me("'getDynCaller' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"dynCall")||(s.dynCall=function(){me("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"callRuntimeCallbacks")||(s.callRuntimeCallbacks=function(){me("'callRuntimeCallbacks' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"runtimeKeepaliveCounter")||(s.runtimeKeepaliveCounter=function(){me("'runtimeKeepaliveCounter' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"keepRuntimeAlive")||(s.keepRuntimeAlive=function(){me("'keepRuntimeAlive' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"runtimeKeepalivePush")||(s.runtimeKeepalivePush=function(){me("'runtimeKeepalivePush' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"runtimeKeepalivePop")||(s.runtimeKeepalivePop=function(){me("'runtimeKeepalivePop' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"callUserCallback")||(s.callUserCallback=function(){me("'callUserCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"maybeExit")||(s.maybeExit=function(){me("'maybeExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"reallyNegative")||(s.reallyNegative=function(){me("'reallyNegative' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"unSign")||(s.unSign=function(){me("'unSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"reSign")||(s.reSign=function(){me("'reSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"formatString")||(s.formatString=function(){me("'formatString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"PATH")||(s.PATH=function(){me("'PATH' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"PATH_FS")||(s.PATH_FS=function(){me("'PATH_FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"SYSCALLS")||(s.SYSCALLS=function(){me("'SYSCALLS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"syscallMmap2")||(s.syscallMmap2=function(){me("'syscallMmap2' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"syscallMunmap")||(s.syscallMunmap=function(){me("'syscallMunmap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"getSocketFromFD")||(s.getSocketFromFD=function(){me("'getSocketFromFD' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"getSocketAddress")||(s.getSocketAddress=function(){me("'getSocketAddress' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"JSEvents")||(s.JSEvents=function(){me("'JSEvents' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerKeyEventCallback")||(s.registerKeyEventCallback=function(){me("'registerKeyEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"specialHTMLTargets")||(s.specialHTMLTargets=function(){me("'specialHTMLTargets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"maybeCStringToJsString")||(s.maybeCStringToJsString=function(){me("'maybeCStringToJsString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"findEventTarget")||(s.findEventTarget=function(){me("'findEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"findCanvasEventTarget")||(s.findCanvasEventTarget=function(){me("'findCanvasEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"getBoundingClientRect")||(s.getBoundingClientRect=function(){me("'getBoundingClientRect' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"fillMouseEventData")||(s.fillMouseEventData=function(){me("'fillMouseEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerMouseEventCallback")||(s.registerMouseEventCallback=function(){me("'registerMouseEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerWheelEventCallback")||(s.registerWheelEventCallback=function(){me("'registerWheelEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerUiEventCallback")||(s.registerUiEventCallback=function(){me("'registerUiEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerFocusEventCallback")||(s.registerFocusEventCallback=function(){me("'registerFocusEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"fillDeviceOrientationEventData")||(s.fillDeviceOrientationEventData=function(){me("'fillDeviceOrientationEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerDeviceOrientationEventCallback")||(s.registerDeviceOrientationEventCallback=function(){me("'registerDeviceOrientationEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"fillDeviceMotionEventData")||(s.fillDeviceMotionEventData=function(){me("'fillDeviceMotionEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerDeviceMotionEventCallback")||(s.registerDeviceMotionEventCallback=function(){me("'registerDeviceMotionEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"screenOrientation")||(s.screenOrientation=function(){me("'screenOrientation' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"fillOrientationChangeEventData")||(s.fillOrientationChangeEventData=function(){me("'fillOrientationChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerOrientationChangeEventCallback")||(s.registerOrientationChangeEventCallback=function(){me("'registerOrientationChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"fillFullscreenChangeEventData")||(s.fillFullscreenChangeEventData=function(){me("'fillFullscreenChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerFullscreenChangeEventCallback")||(s.registerFullscreenChangeEventCallback=function(){me("'registerFullscreenChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerRestoreOldStyle")||(s.registerRestoreOldStyle=function(){me("'registerRestoreOldStyle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"hideEverythingExceptGivenElement")||(s.hideEverythingExceptGivenElement=function(){me("'hideEverythingExceptGivenElement' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"restoreHiddenElements")||(s.restoreHiddenElements=function(){me("'restoreHiddenElements' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"setLetterbox")||(s.setLetterbox=function(){me("'setLetterbox' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"currentFullscreenStrategy")||(s.currentFullscreenStrategy=function(){me("'currentFullscreenStrategy' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"restoreOldWindowedStyle")||(s.restoreOldWindowedStyle=function(){me("'restoreOldWindowedStyle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"softFullscreenResizeWebGLRenderTarget")||(s.softFullscreenResizeWebGLRenderTarget=function(){me("'softFullscreenResizeWebGLRenderTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"doRequestFullscreen")||(s.doRequestFullscreen=function(){me("'doRequestFullscreen' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"fillPointerlockChangeEventData")||(s.fillPointerlockChangeEventData=function(){me("'fillPointerlockChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerPointerlockChangeEventCallback")||(s.registerPointerlockChangeEventCallback=function(){me("'registerPointerlockChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerPointerlockErrorEventCallback")||(s.registerPointerlockErrorEventCallback=function(){me("'registerPointerlockErrorEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"requestPointerLock")||(s.requestPointerLock=function(){me("'requestPointerLock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"fillVisibilityChangeEventData")||(s.fillVisibilityChangeEventData=function(){me("'fillVisibilityChangeEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerVisibilityChangeEventCallback")||(s.registerVisibilityChangeEventCallback=function(){me("'registerVisibilityChangeEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerTouchEventCallback")||(s.registerTouchEventCallback=function(){me("'registerTouchEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"fillGamepadEventData")||(s.fillGamepadEventData=function(){me("'fillGamepadEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerGamepadEventCallback")||(s.registerGamepadEventCallback=function(){me("'registerGamepadEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerBeforeUnloadEventCallback")||(s.registerBeforeUnloadEventCallback=function(){me("'registerBeforeUnloadEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"fillBatteryEventData")||(s.fillBatteryEventData=function(){me("'fillBatteryEventData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"battery")||(s.battery=function(){me("'battery' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"registerBatteryEventCallback")||(s.registerBatteryEventCallback=function(){me("'registerBatteryEventCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"setCanvasElementSize")||(s.setCanvasElementSize=function(){me("'setCanvasElementSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"getCanvasElementSize")||(s.getCanvasElementSize=function(){me("'getCanvasElementSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"polyfillSetImmediate")||(s.polyfillSetImmediate=function(){me("'polyfillSetImmediate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"demangle")||(s.demangle=function(){me("'demangle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"demangleAll")||(s.demangleAll=function(){me("'demangleAll' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"jsStackTrace")||(s.jsStackTrace=function(){me("'jsStackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"stackTrace")||(s.stackTrace=function(){me("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"getEnvStrings")||(s.getEnvStrings=function(){me("'getEnvStrings' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"checkWasiClock")||(s.checkWasiClock=function(){me("'checkWasiClock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"flush_NO_FILESYSTEM")||(s.flush_NO_FILESYSTEM=function(){me("'flush_NO_FILESYSTEM' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"writeI53ToI64")||(s.writeI53ToI64=function(){me("'writeI53ToI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"writeI53ToI64Clamped")||(s.writeI53ToI64Clamped=function(){me("'writeI53ToI64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"writeI53ToI64Signaling")||(s.writeI53ToI64Signaling=function(){me("'writeI53ToI64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"writeI53ToU64Clamped")||(s.writeI53ToU64Clamped=function(){me("'writeI53ToU64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"writeI53ToU64Signaling")||(s.writeI53ToU64Signaling=function(){me("'writeI53ToU64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"readI53FromI64")||(s.readI53FromI64=function(){me("'readI53FromI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"readI53FromU64")||(s.readI53FromU64=function(){me("'readI53FromU64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"convertI32PairToI53")||(s.convertI32PairToI53=function(){me("'convertI32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"convertU32PairToI53")||(s.convertU32PairToI53=function(){me("'convertU32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"uncaughtExceptionCount")||(s.uncaughtExceptionCount=function(){me("'uncaughtExceptionCount' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"exceptionLast")||(s.exceptionLast=function(){me("'exceptionLast' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"exceptionCaught")||(s.exceptionCaught=function(){me("'exceptionCaught' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"ExceptionInfoAttrs")||(s.ExceptionInfoAttrs=function(){me("'ExceptionInfoAttrs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"ExceptionInfo")||(s.ExceptionInfo=function(){me("'ExceptionInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"CatchInfo")||(s.CatchInfo=function(){me("'CatchInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"exception_addRef")||(s.exception_addRef=function(){me("'exception_addRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"exception_decRef")||(s.exception_decRef=function(){me("'exception_decRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"Browser")||(s.Browser=function(){me("'Browser' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"funcWrappers")||(s.funcWrappers=function(){me("'funcWrappers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"getFuncWrapper")||(s.getFuncWrapper=function(){me("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"setMainLoop")||(s.setMainLoop=function(){me("'setMainLoop' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"FS")||(s.FS=function(){me("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"mmapAlloc")||(s.mmapAlloc=function(){me("'mmapAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"MEMFS")||(s.MEMFS=function(){me("'MEMFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"TTY")||(s.TTY=function(){me("'TTY' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"PIPEFS")||(s.PIPEFS=function(){me("'PIPEFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"SOCKFS")||(s.SOCKFS=function(){me("'SOCKFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"_setNetworkCallback")||(s._setNetworkCallback=function(){me("'_setNetworkCallback' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"tempFixedLengthArray")||(s.tempFixedLengthArray=function(){me("'tempFixedLengthArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"miniTempWebGLFloatBuffers")||(s.miniTempWebGLFloatBuffers=function(){me("'miniTempWebGLFloatBuffers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"heapObjectForWebGLType")||(s.heapObjectForWebGLType=function(){me("'heapObjectForWebGLType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"heapAccessShiftForWebGLHeap")||(s.heapAccessShiftForWebGLHeap=function(){me("'heapAccessShiftForWebGLHeap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"GL")||(s.GL=function(){me("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"emscriptenWebGLGet")||(s.emscriptenWebGLGet=function(){me("'emscriptenWebGLGet' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"computeUnpackAlignedImageSize")||(s.computeUnpackAlignedImageSize=function(){me("'computeUnpackAlignedImageSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"emscriptenWebGLGetTexPixelData")||(s.emscriptenWebGLGetTexPixelData=function(){me("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"emscriptenWebGLGetUniform")||(s.emscriptenWebGLGetUniform=function(){me("'emscriptenWebGLGetUniform' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"emscriptenWebGLGetVertexAttrib")||(s.emscriptenWebGLGetVertexAttrib=function(){me("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"writeGLArray")||(s.writeGLArray=function(){me("'writeGLArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"AL")||(s.AL=function(){me("'AL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"SDL_unicode")||(s.SDL_unicode=function(){me("'SDL_unicode' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"SDL_ttfContext")||(s.SDL_ttfContext=function(){me("'SDL_ttfContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"SDL_audio")||(s.SDL_audio=function(){me("'SDL_audio' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"SDL")||(s.SDL=function(){me("'SDL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"SDL_gfx")||(s.SDL_gfx=function(){me("'SDL_gfx' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"GLUT")||(s.GLUT=function(){me("'GLUT' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"EGL")||(s.EGL=function(){me("'EGL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"GLFW_Window")||(s.GLFW_Window=function(){me("'GLFW_Window' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"GLFW")||(s.GLFW=function(){me("'GLFW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"GLEW")||(s.GLEW=function(){me("'GLEW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"IDBStore")||(s.IDBStore=function(){me("'IDBStore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"runAndAbortIfError")||(s.runAndAbortIfError=function(){me("'runAndAbortIfError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"warnOnce")||(s.warnOnce=function(){me("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"stackSave")||(s.stackSave=function(){me("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"stackRestore")||(s.stackRestore=function(){me("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"stackAlloc")||(s.stackAlloc=function(){me("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"AsciiToString")||(s.AsciiToString=function(){me("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"stringToAscii")||(s.stringToAscii=function(){me("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"UTF16ToString")||(s.UTF16ToString=function(){me("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"stringToUTF16")||(s.stringToUTF16=function(){me("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"lengthBytesUTF16")||(s.lengthBytesUTF16=function(){me("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"UTF32ToString")||(s.UTF32ToString=function(){me("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"stringToUTF32")||(s.stringToUTF32=function(){me("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"lengthBytesUTF32")||(s.lengthBytesUTF32=function(){me("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"allocateUTF8")||(s.allocateUTF8=function(){me("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(s,"allocateUTF8OnStack")||(s.allocateUTF8OnStack=function(){me("'allocateUTF8OnStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),s.writeStackCookie=Z,s.checkStackCookie=$,Object.getOwnPropertyDescriptor(s,"ALLOC_NORMAL")||Object.defineProperty(s,"ALLOC_NORMAL",{configurable:!0,get:function(){me("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(s,"ALLOC_STACK")||Object.defineProperty(s,"ALLOC_STACK",{configurable:!0,get:function(){me("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}});function et(){qe(),Z()}function tt(e){function t(){Be||(Be=!0,s.calledRun=!0,S||(se(),ce(),i(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),P(!s._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),de()))}e=e||u,pe>0||(et(),ae(),pe>0||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),t()}),1)):t(),$()))}if(Te=function e(){Be||tt(),Be||(Te=e)},s.run=tt,s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();return tt(),t.ready}}();e.exports=i}).call(this,"/index.js",n(56),"/")},67:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var r,o=n(0),i=n.n(o),a=n(24),s=n.n(a),c=(n(67),n(16)),d=n(34),u=n(8),l=n(39),h=n(54),p=n(55),E=n(35),T=n(44),f=n(25),g=n(19),O=n(29),m=n(49),b=n(48),_=n(28),w=n(62),y=n(41),D=n(3),v=function(e){var t=e.icon,n=e.label,r=Object(w.a)(e,["icon","label"]);return Object(D.jsxs)(y.a,Object(_.a)(Object(_.a)({},r),{},{children:[Object(D.jsx)("i",{className:"bi-"+t,role:"img","aria-label":n}),n]}))},R=n(60),A=n(7),k=n.n(A),M=n(15),S=n(13),P=n(10),I=n(11),j=function(){function e(){Object(P.a)(this,e),this.state={},this.subscribers={}}return Object(I.a)(e,[{key:"notifySubscribers",value:function(e){var t,n=this.subscribers[e]||[],r=Object(S.a)(n);try{for(r.s();!(t=r.n()).done;){(0,t.value)(Object(_.a)({},this.state[e]))}}catch(o){r.e(o)}finally{r.f()}}},{key:"subscribe",value:function(e,t){this.subscribers[e]||(this.subscribers[e]=[]),-1===this.subscribers[e].indexOf(t)&&(this.subscribers[e].push(t),t(this.state[e]))}},{key:"unsubscribe",value:function(e,t){this.subscribers[e]&&(this.subscribers[e]=this.subscribers[e].filter((function(e){return e!==t})))}},{key:"addFile",value:function(e,t){var n=this;return this.state[e]||(this.state[e]={loading:!0,error:null,url:e,data:""},fetch(e).then((function(t){t.ok?t.text().then((function(t){n.state[e]={loading:!1,error:null,url:e,data:t},n.notifySubscribers(e)})):(n.state[e]={loading:!1,error:t,url:e,data:""},n.notifySubscribers(e))}))),t&&this.subscribe(e,t),this.state[e]}},{key:"getFile",value:function(){var e=Object(M.a)(k.a.mark((function e(t){var n=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.addFile(t,(function o(i){i.loading||(i.error?(r(i),n.unsubscribe(t,o)):(e(i),n.unsubscribe(t,o)))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFiles",value:function(){var e=Object(M.a)(k.a.mark((function e(t){var n,r,o,i,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=Object(S.a)(t),e.prev=2,r.s();case 4:if((o=r.n()).done){e.next=12;break}return i=o.value,e.next=8,this.getFile(i);case 8:a=e.sent,n.push(a);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"get",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();j.instance=void 0,function(e){e[e.A_COMMAND=0]="A_COMMAND",e[e.C_COMMAND=1]="C_COMMAND",e[e.L_COMMAND=2]="L_COMMAND"}(r||(r={}));var x=function(){function e(t){var n=this;Object(P.a)(this,e),this.asm=void 0,this.charIndex=0,this.advance=function(){var e=n.getNextToken();if(!e)return null;if("@"===e[0])return{commandType:r.A_COMMAND,symbol:e.slice(1)};if("("===e[0])return{commandType:r.L_COMMAND,symbol:e.slice(1,e.length-1)};for(var t=r.C_COMMAND,o="",i="",a="",s=0,c="";";"!==e[s]&&"="!==e[s];)c+=e[s++];return"="===e[s]?(o=c,i=e.slice(s+1)):i=c,";"===e[s]&&(a=e.slice(s+1)),{commandType:t,dest:o,comp:i,jump:a}},this.asm=t}return Object(I.a)(e,[{key:"getNextLine",value:function(){for(var e="";0===e.length&&this.charIndex<this.asm.length;){var t=this.asm.indexOf("\n",this.charIndex);-1===t&&(t=this.asm.length),e=this.asm.slice(this.charIndex,"\r"===this.asm[t-1]?t-1:t),this.charIndex=t+1}return e}},{key:"getNextToken",value:function(){for(var e,t="";0===t.length&&(e=this.getNextLine());){for(var n=0;" "===e[n];)n++;for(var r=n;r<e.length&&"/"!==e[r]&&" "!==e[r];)r++;t=e.slice(n,r)}return t}}]),e}(),F=[["null","000"],["JGT","001"],["JEQ","010"],["JGE","011"],["JLT","100"],["JNE","101"],["JLE","110"],["JMP","111"]],N=[["null","000"],["M","001"],["D","010"],["MD","011"],["A","100"],["AM","101"],["AD","110"],["AMD","111"]],X=[["0","101010"],["1","111111"],["-1","111010"],["D","001100"],["A","110000"],["!D","001101"],["!A","110001"],["-D","001111"],["-A","110011"],["D+1","011111"],["A+1","110111"],["D-1","001110"],["A-1","110010"],["D+A","000010"],["D-A","010011"],["A-D","000111"],["D&A","000000"],["D|A","010101"],["M","110000"],["!M","110001"],["-M","110011"],["M+1","110111"],["M-1","110010"],["D+M","000010"],["D-M","010011"],["M-D","000111"],["D&M","000000"],["D|M","010101"]],U={SP:"0",LCL:"1",ARG:"2",THIS:"3",THAT:"4",SCREEN:"16384",KBD:"24576"};function L(e){for(var t=parseInt(e),n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];t>0;){for(var r=t,o=0;o<=16;o++)if(Math.pow(2,o)>t){t-=Math.pow(2,o-1),n[n.length-o]=1;break}if(r===t)throw new Error("Overflow.")}return n.join("")}var C=function(){function e(t){var n=this;Object(P.a)(this,e),this.asm=void 0,this.assemble=function(){var e=[],t=n.getSymbolTable(),o=t.table,i=t.commands;function a(t){/^\d+$/.test(t.symbol)?e.push(L(t.symbol)):e.push(L(o[t.symbol]))}function s(t){var n,r="111",o=!1,i=Object(S.a)(X);try{for(i.s();!(n=i.n()).done;){var a=Object(c.a)(n.value,2),s=a[0],d=a[1];if(s===t.comp){o=!0,s.indexOf("M")>=0?r+="1":r+="0",r+=d;break}}}catch(w){i.e(w)}finally{i.f()}if(!o)throw new Error("Invalid comp: ".concat(t.comp));if(t.dest.length>0){var u,l=!1,h=Object(S.a)(N);try{for(h.s();!(u=h.n()).done;){var p=Object(c.a)(u.value,2),E=p[0],T=p[1];if(E===t.dest){r+=T,l=!0;break}}}catch(w){h.e(w)}finally{h.f()}if(!l)throw new Error("Invalid dest mneumonic: ".concat(t.dest))}else r+="000";if(t.jump.length>0){var f,g=!1,O=Object(S.a)(F);try{for(O.s();!(f=O.n()).done;){var m=Object(c.a)(f.value,2),b=m[0],_=m[1];if(b===t.jump){r+=_,g=!0;break}}}catch(w){O.e(w)}finally{O.f()}if(!g)throw new Error("Invalid jump mneumonic: ".concat(t.jump))}else r+="000";e.push(r)}var d,u=Object(S.a)(i);try{for(u.s();!(d=u.n()).done;){var l=d.value;l.commandType===r.A_COMMAND?a(l):l.commandType===r.L_COMMAND||l.commandType===r.C_COMMAND&&s(l)}}catch(h){u.e(h)}finally{u.f()}return e.join("\n")+"\n"},this.asm=t}return Object(I.a)(e,[{key:"getSymbolTable",value:function(){for(var e=Object(_.a)({},U),t=0;t<16;t++)e["R"+t]=""+t;for(var n,o=new x(this.asm),i=0,a=[];n=o.advance();)a.push(n),n.commandType===r.L_COMMAND?(i>=32768&&console.error("instruction index has overflowed for ".concat(n.symbol)),e[n.symbol]=""+i):i++;for(var s=16,c=0,d=a;c<d.length;c++)(n=d[c]).commandType===r.A_COMMAND&&(/^\d+$/.test(n.symbol)||e[n.symbol]||(e[n.symbol]=""+s,s++));return{table:e,commands:a}}}]),e}(),H=["constant","argument","local","static","this","that","pointer","temp"];function Q(e){return void 0!==e&&H.includes(e)}var G,W=["neg","not","add","sub","and","or","eq","lt","gt"];!function(e){e[e.ARITHMETIC=0]="ARITHMETIC",e[e.PUSH=1]="PUSH",e[e.POP=2]="POP",e[e.LABEL=3]="LABEL",e[e.GOTO=4]="GOTO",e[e.IF=5]="IF",e[e.FUNCTION=6]="FUNCTION",e[e.RETURN=7]="RETURN",e[e.CALL=8]="CALL"}(G||(G={}));var z={add:G.ARITHMETIC,sub:G.ARITHMETIC,neg:G.ARITHMETIC,eq:G.ARITHMETIC,gt:G.ARITHMETIC,lt:G.ARITHMETIC,and:G.ARITHMETIC,or:G.ARITHMETIC,not:G.ARITHMETIC,push:G.PUSH,pop:G.POP,label:G.LABEL,"if-goto":G.IF,goto:G.GOTO,function:G.FUNCTION,return:G.RETURN,call:G.CALL},B=function e(t){var n=this;Object(P.a)(this,e),this.lineIndex=0,this.error=void 0,this.commandType=void 0,this.arg1=void 0,this.arg2=void 0,this.vmCode=void 0,this.vmCodeLines=void 0,this.hasMoreCommands=function(){return!n.error&&n.lineIndex<n.vmCodeLines.length},this.advance=function(){var e=n.vmCodeLines[n.lineIndex];n.lineIndex++,n.commandType=z[e[0]],n.commandType===G.ARITHMETIC?n.arg1=e[0]:n.arg1=e[1],[G.PUSH,G.POP,G.FUNCTION,G.CALL].includes(n.commandType)?n.arg2=parseInt(e[2]):n.arg2=void 0},this.vmCodeLines=function(e){var t,n=[],r=Object(S.a)(e.split("\n"));try{for(r.s();!(t=r.n()).done;){for(var o=t.value,i=0,a=[],s="";i<o.length;)if(/\s/.test(o[i]))s.length>0&&(a.push(s),s=""),i++;else{if("//"===o.slice(i,i+2))break;s+=o[i],i++}s.length>0&&a.push(s),a.length>0&&n.push(a)}}catch(c){r.e(c)}finally{r.f()}return n}(t),this.vmCode=t};function Y(e){var t,n=[],r=Object(S.a)(e.split("\n"));try{for(r.s();!(t=r.n()).done;)for(var o=t.value,i=0;i<o.length;i++)if(" "!==o[i]){n.push(o.slice(i,o.length));break}}catch(a){r.e(a)}finally{r.f()}return n.join("\n")}var K=function(){function e(t,n,r,o){var i=this;Object(P.a)(this,e),this.parser=void 0,this.indentation="",this.output="",this.fileName=void 0,this.returnAddressIndex=0,this.currentFunction="",this.existingLabels=void 0,this.stats=void 0,this.indent=function(){i.indentation+="    "},this.dedent=function(){i.indentation.length>4?i.indentation=i.indentation.slice(0,i.indentation.length-4):i.indentation=""},this.writeLines=function(e,t){var n=0;"string"===typeof e&&(e=[e]);var r,o=Object(S.a)(e);try{for(o.s();!(r=o.n()).done;){var a,s=r.value,c=Object(S.a)(s.split("\n"));try{for(c.s();!(a=c.n()).done;){var d=a.value;d.length>0&&"/"!==d[0]&&(i.count(t),n++),i.output+=i.indentation+d+"\n"}}catch(u){c.e(u)}finally{c.f()}}}catch(u){o.e(u)}finally{o.f()}i.stats["[MAX] ".concat(t)]=Math.max(n,i.stats["[MAX] ".concat(t)]||0)},this.comparatorIndex=0,this.writeArithmetic=function(e){if("neg"!==e&&"not"!==e)if("add"!==e&&"sub"!==e&&"and"!==e&&"or"!==e){var t="".concat(i.currentFunction,":SET_TRUE_").concat(i.comparatorIndex++);i.writeLines(Y("\n        @SP // decrement stack pointer\n        AM=M-1\n        D=M\n        A=A-1\n\n        D=D-M\n        M=-1\n        @".concat(t,"\n        D;").concat({eq:"JEQ",lt:"JGT",gt:"JLT"}[e],"\n\n        @SP // store result on stack\n        A=M-1\n        M=0\n        (").concat(t,") // set D register to -1 (true)\n      ")),"arithmetic: ".concat(e))}else i.writeLines(Y("\n          @SP // decrement stack pointer\n          AM=M-1\n          D=M\n          A=A-1\n\n          // do the add\n          M=".concat({add:"D+M",sub:"M-D",and:"D&M",or:"D|M"}[e],"\n        ")),"arithmetic: ".concat(e));else i.writeLines(Y("\n          @SP\n          A=M-1\n          M=".concat({neg:"-M",not:"!M"}[e],"\n        ")),"arithmetic: ".concat(e))},this.assertSegmentBoundary=function(e,t){if("temp"===e&&t>7)throw new Error("index ".concat(t," for temp segment is invalid. Must be between 0 and 7."));if("pointer"===e&&t>1)throw new Error("index ".concat(t," for pointer segment is invalid. Must be 0 or 1."))},this.writeSubroutineDef=function(e,t){if(i.existingLabels[e])throw new Error("Failed writing subroutine ".concat(e,". Label already exists."));if(-1!==t.indexOf("@R15"))throw new Error("Failed writing subroutine ".concat(e,". Subroutine code can't touch R15"));i.existingLabels[e]=!0,i.writeLines(Y("\n        (".concat(e,") // subroutine: def\n        ").concat(t,"\n        @R15\n        A=M\n        0;JMP // subroutine: end def ").concat(e,"\n      ")),"subroutine")},this.subroutineReturnCount=0,this.writeCallSubroutine=function(e){var t="".concat(e,"_return_").concat(i.subroutineReturnCount++);i.writeLines(Y("\n        @".concat(t," // subroutine: call\n        D=A\n        @R15\n        M=D\n        @").concat(e,"\n        0;JMP\n        (").concat(t,") // subroutine: end call\n      ")),"subroutine")},this.writePush=function(e,t){i.assertSegmentBoundary(e,t);if("constant"===e)return t<=1?void i.writeLines(Y("\n            @SP // push: begin\n            M=M+1\n            A=M-1 // set stack pointer - 1 to constant value\n            M=".concat(t," // push: end\n          ")),"push: constant <= 1"):void i.writeLines(Y("\n            @".concat(t," // push: begin\n            D=A\n            @SP // increment stack pointer\n            M=M+1\n            A=M-1 // set stack pointer - 1 to constant value\n            M=D // push: end\n          ")),"push: constant > 1");var n=[];"temp"===e?n.push("@".concat(5+t)):"pointer"===e?n.push("@".concat(3+t)):"static"===e?n.push("@".concat(i.fileName,".").concat(t)):(n.push("@".concat({argument:"ARG",local:"LCL",this:"THIS",that:"THAT"}[e])),0===t?n.push("A=M"):1===t?n.push("A=M+1"):n.push(Y("\n              D=M // calculate segment offset\n              @".concat(t,"\n              A=D+A\n            ")))),n.push("D=M"),n.push(Y("\n          @SP // increment stack pointer\n          M=M+1\n          A=M-1 // set stack pointer - 1 to value from D\n          M=D\n        ")),i.writeLines(n,"push: ".concat(e))},this.writePop=function(e,t){i.assertSegmentBoundary(e,t);var n={argument:"ARG",local:"LCL",this:"THIS",that:"THAT"},r=[];if("temp"===e)r.push("@".concat(5+t)),r.push("D=A");else if("pointer"===e)r.push("@".concat(3+t)),r.push("D=A");else{if("static"!==e){if("constant"===e)throw new Error("Invalid pop command: Can't pop to constant segment");return t<=1?r.push(Y("\n            @SP // load top of stack into D register and decrement SP\n            AM=M-1\n            D=M\n            @".concat(n[e],"\n            A=").concat(0===t?"M":"M+1","\n            M=D\n          "))):r.push(Y("\n            @".concat(n[e],"\n            D=M\n            @").concat(t," // load index into A register\n            D=D+A // calculate segment base offset\n\n            @R13 // store pop destination into R13\n            M=D\n            @SP // load top of stack into D register\n            AM=M-1\n            D=M\n            @R13 // then...\n            A=M\n            M=D\n          "))),void i.writeLines(r,"pop: ".concat(e))}r.push("@".concat(i.fileName,".").concat(t)),r.push("D=A")}r.push(Y("\n        @R13 // store pop destination into R13\n        M=D\n        @SP // load top of stack into D register\n        AM=M-1\n        D=M\n        @R13 // then...\n        A=M\n        M=D\n      ")),i.writeLines(r,"pop: ".concat(e))},this.getLabelInASM=function(e){return"".concat(i.currentFunction,"$").concat(e)},this.writeLabel=function(e){i.writeLines("(".concat(i.getLabelInASM(e),")"),"label")},this.writeIf=function(e){i.writeLines(Y("\n        @SP\n        M=M-1\n        A=M\n        D=M\n        @".concat(i.getLabelInASM(e),"\n        D;JNE\n    ")),"if")},this.writeGoto=function(e){i.writeLines(Y("\n        @".concat(i.getLabelInASM(e),"\n        0;JMP\n      ")),"goto")},this.writeFunction=function(e,t){if(i.currentFunction=e,i.writeLines("(".concat(e,")"),"func"),t>0){i.writeLines(Y("\n            @LCL\n            A=M\n            M=0\n        "),"func");for(var n=1;n<t;n++)i.writeLines(Y("\n            A=A+1\n            M=0\n          "),"func");i.writeLines(Y("\n          @".concat(t,"\n          D=A\n          @SP\n          M=D+M\n        ")),"func")}},this.writeReturn=function(){var e="__VM_RETURN";if(i.existingLabels[e])i.writeLines(Y("\n          @".concat(e,"\n          0;JMP\n        ")),"return");else{i.existingLabels[e]=!0;var t=function(e){return"\n        @R13\n        AM=M-1\n        D=M\n        @".concat(e,"\n        M=D\n    ")};i.writeLines(Y("\n        (".concat(e,")\n        // FRAME = LCL\n        @LCL\n        D=M\n        @R13\n        M=D\n\n        // RET = *(FRAME-5)\n        @5\n        A=D-A\n        D=M\n        @R14\n        M=D\n\n        // *ARG = pop()\n        @SP\n        AM=M-1\n        D=M\n        @ARG\n        A=M\n        M=D\n\n        // SP = ARG+1\n        @ARG\n        D=M\n        @SP\n        M=D+1\n\n        // THAT = *(FRAME-1)\n        ").concat(t("THAT"),"\n        \n        // THIS = *(FRAME-2)\n        ").concat(t("THIS"),"\n\n        // ARG = *(FRAME-3)\n        ").concat(t("ARG"),"\n\n        // LCL = *(FRAME-4)\n        ").concat(t("LCL"),"\n\n        // goto RET\n        @R14\n        A=M\n        0;JMP\n      ")),"return")}},this.writeCall=function(e,t){var n=function(){return Y("\n        @SP // increment stack pointer\n        M=M+1\n        A=M-1 // set stack pointer - 1 to D\n        M=D\n      ")},r="".concat(i.fileName,":").concat(i.returnAddressIndex++);i.writeLines(Y("\n        // push return-address onto stack\n        @".concat(r,"\n        D=A\n        ").concat(n(),"\n      ")),"call");var o="__VM_CALL:".concat(t);i.existingLabels[o]?i.writeLines(Y("\n          @".concat(e,"\n          D=A\n          @R15\n          M=D\n          @").concat(o,"\n          0;JMP\n        ")),"call"):(i.writeLines(Y("\n          @".concat(e,"\n          D=A\n          @R15\n          M=D\n          (").concat(o,")\n          // push LCL\n          @LCL\n          D=M\n          ").concat(n(),"\n\n          // push ARG\n          @ARG\n          D=M\n          ").concat(n(),"\n\n          // push THIS\n          @THIS\n          D=M\n          ").concat(n(),"\n\n          // push THAT\n          @THAT\n          D=M\n          ").concat(n(),"\n\n          // ARG = SP-n-5\n          @SP\n          D=M\n          @").concat(t+5,"\n          D=D-A\n          @ARG\n          M=D\n\n          // LCL = SP\n          @SP\n          D=M\n          @LCL\n          M=D\n\n          @R15\n          A=M\n          0;JMP\n        ")),"call"),i.existingLabels[o]=!0),i.writeLines(Y("\n        // goto f\n        @".concat(e,"\n        0;JMP\n        // (return-address)\n        (").concat(r,")\n      ")),"call")},this.translate=function(){for(;i.parser.hasMoreCommands();){i.parser.advance();var e=i.parser.commandType;if(e===G.PUSH){i.writeLines("// push ".concat(i.parser.arg1," ").concat(i.parser.arg2),"comment"),i.indent();var t=i.parser.arg1;if(!Q(t))throw new Error("Invalid segment ".concat(t));if(void 0===i.parser.arg2)throw new Error("push command must specify index of segment");i.writePush(t,i.parser.arg2),i.dedent()}if(e===G.POP){i.writeLines("// pop ".concat(i.parser.arg1," ").concat(i.parser.arg2),"comment"),i.indent();var n=i.parser.arg1;if(!Q(n))throw new Error("Invalid segment ".concat(n));if(void 0===i.parser.arg2)throw new Error("pop command must specify index of segment");i.writePop(n,i.parser.arg2),i.dedent()}if(e===G.ARITHMETIC){i.writeLines("// ".concat(i.parser.arg1),"comment"),i.indent();var r=i.parser.arg1;if(void 0===(o=r)||!W.includes(o))throw new Error("Unexpected arithmetic command ".concat(r));i.writeArithmetic(r),i.dedent()}if(e===G.LABEL){if(i.writeLines("// label ".concat(i.parser.arg1),"comment"),i.indent(),void 0===i.parser.arg1)throw new Error("label command must have an argument");i.writeLabel(i.parser.arg1),i.dedent()}if(e===G.IF){if(i.writeLines("// if-goto ".concat(i.parser.arg1),"comment"),i.indent(),void 0===i.parser.arg1)throw new Error("if-goto command must have an argument");i.writeIf(i.parser.arg1),i.dedent()}if(e===G.GOTO){if(i.writeLines("// goto ".concat(i.parser.arg1),"comment"),i.indent(),void 0===i.parser.arg1)throw new Error("goto command must have an argument");i.writeGoto(i.parser.arg1),i.dedent()}if(e===G.FUNCTION){if(i.writeLines("// function ".concat(i.parser.arg1," ").concat(i.parser.arg2),"comment"),i.indent(),void 0===i.parser.arg1||void 0===i.parser.arg2)throw new Error("function command takes two arguments");i.writeFunction(i.parser.arg1,i.parser.arg2),i.dedent()}if(e===G.RETURN&&(i.writeLines("// return","comment"),i.indent(),i.writeReturn(),i.dedent()),e===G.CALL){if(i.writeLines("// call ".concat(i.parser.arg1," ").concat(i.parser.arg2),"comment"),i.indent(),void 0===i.parser.arg1||void 0===i.parser.arg2)throw new Error("call command takes two arguments");i.writeCall(i.parser.arg1,i.parser.arg2),i.dedent()}i.output+="\n"}var o;return i.output},this.parser=new B(t),this.fileName=n,this.existingLabels=r,this.stats=o}return Object(I.a)(e,[{key:"count",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.stats[e]=(this.stats[e]||0)+t}}],[{key:"translateFiles",value:function(t,n){n=n||{};var r="";t.length>1&&(r+=Y("\n        @261 // SP=256+5\n        D=A\n        @SP\n        M=D\n\n        @Sys.init\n        0;JMP\n      "),r+="\n");var o,i={},a={},s=Object(S.a)(t);try{for(s.s();!(o=s.n()).done;){var c=o.value;r+=new e(c.readFile(),c.fileName,a,i).translate()}}catch(T){s.e(T)}finally{s.f()}if(n.lineNumbers){var d,u=[],l=0,h=Object(S.a)(r.split("\n"));try{for(h.s();!(d=h.n()).done;){var p=d.value;if(p.length>0&&!p.match(/^\s*\/\//)&&!p.match(/^\s*\(/)){var E=p.padEnd(50)+"// line: ".concat(l++);u.push(E)}else u.push(p)}}catch(T){h.e(T)}finally{h.f()}r=u.join("\n")}return r}}]),e}(),V=["class","constructor","function","method","field","static","var","int","char","boolean","void","true","false","null","this","let","do","if","else","while","return"];var J=function(){function e(t){Object(P.a)(this,e),this.jackString=void 0,this.charIndex=0,this.token=void 0,this.jackString=t}return Object(I.a)(e,[{key:"hasMoreTokens",value:function(){return this.charIndex<this.jackString.length}},{key:"eatWhitespace",value:function(){for(var e=this.jackString[this.charIndex];/\s/.test(e);)this.charIndex++,e=this.jackString[this.charIndex]}},{key:"eatComment",value:function(){var e=this.jackString.slice(this.charIndex,this.charIndex+2);if("//"===e){for(;"\n"!==this.jackString[this.charIndex];)this.charIndex++;this.charIndex++}else if("/*"===e){for(;"*/"!==this.jackString.slice(this.charIndex,this.charIndex+2);)this.charIndex++;this.charIndex+=2}}},{key:"parseStringConstant",value:function(){this.token={tokenType:"STRING_CONST",stringVal:""},this.charIndex++;for(var e=this.jackString[this.charIndex];'"'!==e;)this.token.stringVal+=e,this.charIndex++,e=this.jackString[this.charIndex];this.charIndex++}},{key:"parseIntegerConstant",value:function(){for(var e="";/\d/.test(this.jackString[this.charIndex]);)e+=this.jackString[this.charIndex],this.charIndex++;this.token={tokenType:"INT_CONST",intVal:parseInt(e)}}},{key:"parseKeywordOrIdentifier",value:function(){for(var e,t="";this.hasMoreTokens()&&/[A-Za-z\d_]/.test(this.jackString[this.charIndex]);)t+=this.jackString[this.charIndex],this.charIndex++;e=t,V.includes(e)?this.token={tokenType:"KEYWORD",keyWord:t}:this.token={tokenType:"IDENTIFIER",identifier:t}}},{key:"getToken",value:function(){if(!this.token)throw new Error("No token found");return this.token}},{key:"getKeywordToken",value:function(){var e=this.getToken();if("KEYWORD"!==e.tokenType)throw new Error("Expected KEYWORD token but found "+e.tokenType);return e}},{key:"getSymbolToken",value:function(){var e=this.getToken();if("SYMBOL"!==e.tokenType)throw new Error("Expected SYMBOL token but found "+e.tokenType);return e}},{key:"getIdentifierToken",value:function(){var e=this.getToken();if("IDENTIFIER"!==e.tokenType)throw new Error("Expected IDENTIFIER token but found "+e.tokenType);return e}},{key:"advance",value:function(){for(this.token=void 0,this.eatWhitespace();["//","/*"].includes(this.jackString.slice(this.charIndex,this.charIndex+2));)this.eatComment(),this.eatWhitespace();var e=this.jackString[this.charIndex];return'"'===e?this.parseStringConstant():"0123456789".includes(e)?this.parseIntegerConstant():"{}()[].,;+-*/&|<>=~".includes(e)?(this.token={tokenType:"SYMBOL",symbol:e},this.charIndex++):/[a-zA-Z_]/.test(e)&&this.parseKeywordOrIdentifier(),this.getToken()}}]),e}(),q=function(){function e(){Object(P.a)(this,e),this.classScope={},this.subroutineScope={},this.kindIndex={static:0,field:0,var:0,arg:0,none:0}}return Object(I.a)(e,[{key:"addIdentifier",value:function(e,t,n){var r={name:e,kind:n,type:t,index:this.kindIndex[n]++};return"static"===n||"field"===n?this.classScope[e]=r:this.subroutineScope[e]=r,r}},{key:"startSubroutine",value:function(){this.subroutineScope={},this.kindIndex.var=0,this.kindIndex.arg=0}},{key:"_get",value:function(e){return this.subroutineScope[e]||this.classScope[e]}},{key:"get",value:function(e){var t=this._get(e);if(null===t)throw new Error('Could not find "'.concat(e,'" in symbol table'));return t}},{key:"getNumFields",value:function(){return Object.values(this.classScope).filter((function(e){return"field"===e.kind})).length}},{key:"has",value:function(e){return!!this._get(e)}}]),e}(),Z=function(){function e(t){Object(P.a)(this,e),this.output=void 0,this.indentation="",this.output=t}return Object(I.a)(e,[{key:"indent",value:function(){this.indentation+="  "}},{key:"dedent",value:function(){this.indentation=this.indentation.slice(0,-2)}},{key:"writeLn",value:function(e){this.output.writeLn(e)}},{key:"writePush",value:function(e,t){this.writeLn("push ".concat(e," ").concat(t))}},{key:"writePop",value:function(e,t){this.writeLn("pop ".concat(e," ").concat(t))}},{key:"writeArithmetic",value:function(e){this.writeLn(e)}},{key:"writeLabel",value:function(e){this.writeLn("label ".concat(e))}},{key:"writeGoto",value:function(e){this.writeLn("goto ".concat(e))}},{key:"writeIf",value:function(e){this.writeLn("if-goto ".concat(e))}},{key:"writeCall",value:function(e,t){this.writeLn("call ".concat(e," ").concat(t))}},{key:"writeFunction",value:function(e,t){this.writeLn(""),this.writeLn("function ".concat(e," ").concat(t))}},{key:"writeReturn",value:function(){this.writeLn("return")}},{key:"writeComment",value:function(e){this.writeLn("// ".concat(e))}}]),e}(),$=["constructor","function","method"];var ee=["int","char","boolean"];var te=["+","-","*","/","&","|","<",">","="];function ne(e){return"IDENTIFIER"===e.tokenType||"KEYWORD"===e.tokenType&&(t=e.keyWord,ee.includes(t));var t}function re(e){if(!ne(e))throw new Error("Expected a valid type token but got "+e.tokenType);return"KEYWORD"===e.tokenType?e.keyWord:e.identifier}function oe(e){switch(e.kind){case"arg":return"argument";case"var":return"local";case"field":return"this";case"static":return"static";default:throw new Error('Not sure what segment to pop value onto in "let '.concat(e.name,'= ..." statement'))}}var ie=function(){function e(t){var n=this;Object(P.a)(this,e),this.output="",this.tokenizer=void 0,this.table=void 0,this.className="",this.vmWriter=void 0,this.vmCode=void 0,this.tagIndent="",this.ifStatementCount=0,this.whileLoopCount=0,this.tokenizer=new J(t),this.table=new q,this.vmCode="",this.vmWriter=new Z({writeLn:function(e){n.log(e),n.vmCode+=e+"\n"}})}return Object(I.a)(e,[{key:"log",value:function(){}},{key:"openTag",value:function(e){var t="".concat(this.tagIndent,"<").concat(e,">");this.log(t),this.output+=t+"\n",this.tagIndent+="  "}},{key:"closeTag",value:function(e){this.tagIndent=this.tagIndent.slice(0,this.tagIndent.length-2);var t="".concat(this.tagIndent,"</").concat(e,">");this.log(t),this.output+=t+"\n"}},{key:"tag",value:function(e,t){var n="".concat(this.tagIndent,"<").concat(e,"> ").concat(t," </").concat(e,">");this.log(n),this.output+=n+"\n"}},{key:"tagIdenfitier",value:function(e,t,n,r,o,i){var a="".concat(this.tagIndent,'<id category="').concat(t,'" status="').concat(n,'" kind="').concat(r,'" type="').concat(o,'" index="').concat(i,'"> ').concat(e," </id>");this.log(a),this.output+=a+"\n"}},{key:"tagToken",value:function(e){if("IDENTIFIER"===e.tokenType)this.tag("identifier",e.identifier);else if("INT_CONST"===e.tokenType)this.tag("integerConstant",""+e.intVal);else if("KEYWORD"===e.tokenType)this.tag("keyword",e.keyWord);else if("STRING_CONST"===e.tokenType)this.tag("stringConstant",e.stringVal);else if("SYMBOL"===e.tokenType){var t=e.symbol;"<"===t?t="&lt;":">"===t?t="&gt;":"&"===t&&(t="&amp;"),this.tag("symbol",t)}}},{key:"compileType",value:function(){var e=this.tokenizer.getToken();if(!ne(e))throw new Error("Expected a valid type.");return this.tagToken(e),this.tokenizer.advance(),e}},{key:"compileClassVarDec",value:function(){this.openTag("classVarDec");var e=this.tokenizer.getKeywordToken(),t=e.keyWord;if("static"!==t&&"field"!==t)throw new Error("Class variable declaration must begin with static or field keyword");this.tagToken(e),this.tokenizer.advance();var n=this.tokenizer.getToken();this.tokenizer.advance();var r=this.tokenizer.getToken();if("IDENTIFIER"!==r.tokenType)throw new Error("Expected identifier in class variable declaration");this.tokenizer.advance();var o=this.table.addIdentifier(r.identifier,re(n),t);this.tagIdenfitier(o.name,o.kind,"defined",o.kind,o.type,o.index);for(var i=this.tokenizer.getToken();"SYMBOL"===i.tokenType&&","===i.symbol;){this.tagToken(i),this.tokenizer.advance();var a=this.tokenizer.getToken();if("IDENTIFIER"!==a.tokenType)throw new Error("Expected identifier in class variable declaration");this.tokenizer.advance();var s=this.table.addIdentifier(a.identifier,re(n),t);this.tagIdenfitier(s.name,s.kind,"defined",s.kind,s.type,s.index),i=this.tokenizer.getToken()}if("SYMBOL"!==i.tokenType||";"!==i.symbol)throw new Error("Expected ;");this.tagToken(i),this.tokenizer.advance(),this.closeTag("classVarDec")}},{key:"compileParameterList",value:function(){this.openTag("parameterList");for(var e=this.tokenizer.getToken();ne(e);){this.compileType();var t=this.tokenizer.getToken();if("IDENTIFIER"!==t.tokenType)throw new Error("Expected a variable name token in paramter list");this.table.addIdentifier(t.identifier,re(e),"arg"),this.tagToken(t);var n=this.tokenizer.advance();"SYMBOL"===n.tokenType&&","===n.symbol&&(this.tagToken(n),this.tokenizer.advance()),e=this.tokenizer.getToken()}this.closeTag("parameterList")}},{key:"compileVarDec",value:function(){this.openTag("varDec");var e=this.tokenizer.getKeywordToken().keyWord;if("var"!==e)throw new Error("variable declarations must begin with var keyword");this.tokenizer.advance();var t=this.tokenizer.getToken();this.tokenizer.advance();var n=0,r=this.tokenizer.getToken();if("IDENTIFIER"!==r.tokenType)throw new Error("Expected variable name after variable type");n++,this.tokenizer.advance();var o=this.table.addIdentifier(r.identifier,re(t),e);this.tagIdenfitier(o.name,o.kind,"defined",o.kind,o.type,o.index);for(var i=this.tokenizer.getToken();"SYMBOL"===i.tokenType&&","===i.symbol;){this.tagToken(i);var a=this.tokenizer.advance();if("IDENTIFIER"!==a.tokenType)throw new Error("comma in variable declaration must be followed by identifier");n++,this.tokenizer.advance();var s=this.table.addIdentifier(a.identifier,re(t),e);this.tagIdenfitier(s.name,s.kind,"defined",s.kind,s.type,s.index),i=this.tokenizer.getToken()}if("SYMBOL"!==i.tokenType||";"!==i.symbol)throw new Error("Variable declaration statement must end with ;");return this.tagToken(i),this.tokenizer.advance(),this.closeTag("varDec"),n}},{key:"isStatement",value:function(e){return"KEYWORD"===e.tokenType&&["let","if","while","do","return"].includes(e.keyWord)}},{key:"compileExpressionList",value:function(){this.openTag("expressionList");for(var e=0,t=this.tokenizer.getToken();"SYMBOL"!==t.tokenType||")"!==t.symbol;)this.compileExpression(),e++,"SYMBOL"===(t=this.tokenizer.getToken()).tokenType&&","===t.symbol&&(this.tagToken(t),t=this.tokenizer.advance());return this.closeTag("expressionList"),e}},{key:"compileSubroutineCall",value:function(e){this.tagToken(e);var t=this.tokenizer.getSymbolToken(),n="".concat(this.className,".").concat(e.identifier),r=0;if("("===t.symbol)this.vmWriter.writePush("pointer",0),r+=1,this.tagToken(t),this.tokenizer.advance();else{if("."!==t.symbol)throw new Error("expected ( or . following subroutine name in subroutine call");this.tagToken(t),this.tokenizer.advance();var o=this.tokenizer.getIdentifierToken();if(this.tagToken(o),this.tokenizer.advance(),n="".concat(e.identifier,".").concat(o.identifier),this.table.has(e.identifier)){var i=this.table.get(e.identifier);switch(n="".concat(i.type,".").concat(o.identifier),i.kind){case"arg":this.vmWriter.writePush("argument",i.index);break;case"var":this.vmWriter.writePush("local",i.index);break;case"field":this.vmWriter.writePush("this",i.index);break;case"static":this.vmWriter.writePush("static",i.index);break;case"none":default:throw new Error("Not sure how to handle calling methods on ".concat(i.kind))}r+=1}var a=this.tokenizer.getSymbolToken();if("("!==a.symbol)throw new Error("Expected ( in class function call");this.tagToken(a),this.tokenizer.advance()}if(r+=this.compileExpressionList(),")"!==(t=this.tokenizer.getSymbolToken()).symbol)throw new Error("Expected closing ) in subroutine call");this.tagToken(t),this.tokenizer.advance(),this.vmWriter.writeCall(n,r)}},{key:"compileTerm",value:function(){this.openTag("term");var e=this.tokenizer.getToken();if("INT_CONST"===e.tokenType)this.vmWriter.writePush("constant",e.intVal),this.tagToken(e),this.tokenizer.advance();else if("STRING_CONST"===e.tokenType){var t=e.stringVal;this.vmWriter.writePush("constant",t.length),this.vmWriter.writeCall("String.new",1);for(var n=0;n<t.length;n++)this.vmWriter.writePush("constant",t.charCodeAt(n)),this.vmWriter.writeCall("String.appendChar",2);this.tagToken(e),this.tokenizer.advance()}else if("KEYWORD"===e.tokenType&&["true","false","null","this"].includes(e.keyWord)){switch(e.keyWord){case"true":this.vmWriter.writePush("constant",1),this.vmWriter.writeArithmetic("neg");break;case"this":this.vmWriter.writePush("pointer",0);break;case"false":case"null":this.vmWriter.writePush("constant",0)}this.tagToken(e),this.tokenizer.advance()}else if("IDENTIFIER"===e.tokenType){var r=e;if("SYMBOL"===(e=this.tokenizer.advance()).tokenType&&"["===e.symbol){this.tagToken(r),this.tagToken(e),this.tokenizer.advance();var o=this.table.get(r.identifier);if(this.vmWriter.writePush(oe(o),o.index),this.compileExpression(),this.vmWriter.writeArithmetic("add"),this.vmWriter.writePop("pointer",1),this.vmWriter.writePush("that",0),"]"!==(e=this.tokenizer.getSymbolToken()).symbol)throw new Error("Expected closing ] in array indexing term");this.tagToken(e),this.tokenizer.advance()}else if("SYMBOL"===e.tokenType&&".(".includes(e.symbol))this.compileSubroutineCall(r);else{var i=this.table.get(r.identifier);this.vmWriter.writePush(oe(i),i.index),this.tagToken(r)}}else if("SYMBOL"===e.tokenType&&"("===e.symbol){this.tagToken(e),this.tokenizer.advance(),this.compileExpression();var a=this.tokenizer.getSymbolToken();if(")"!==a.symbol)throw new Error("Expected closing ) in epxression");this.tagToken(a),this.tokenizer.advance()}else if("SYMBOL"===e.tokenType&&("-"===e.symbol||"~"===e.symbol)){this.tagToken(e),this.tokenizer.advance(),this.compileTerm();this.vmWriter.writeArithmetic({"-":"neg","~":"not"}[e.symbol])}this.closeTag("term")}},{key:"compileExpression",value:function(){this.openTag("expression"),this.compileTerm();for(var e,t=this.tokenizer.getToken();"SYMBOL"===t.tokenType&&(e=t.symbol,te.includes(e));){this.tagToken(t),this.tokenizer.advance(),this.compileTerm();var n=t.symbol;if("*"===n)this.vmWriter.writeCall("Math.multiply",2);else if("/"===n)this.vmWriter.writeCall("Math.divide",2);else{this.vmWriter.writeArithmetic({"+":"add","-":"sub","&":"and","|":"or","<":"lt",">":"gt","=":"eq"}[n])}t=this.tokenizer.getToken()}this.closeTag("expression")}},{key:"compileLetStatement",value:function(){this.openTag("letStatement");var e=this.tokenizer.getKeywordToken();if("let"!==e.keyWord)throw new Error("expected let statement to begin with let keyword");this.tagToken(e),this.tokenizer.advance();var t=this.tokenizer.getIdentifierToken(),n=this.table.get(t.identifier);this.tagToken(t);var r=this.tokenizer.advance(),o=!1;if("SYMBOL"===r.tokenType&&"["===r.symbol){o=!0,this.tagToken(r),this.tokenizer.advance(),this.vmWriter.writePush(oe(n),n.index),this.compileExpression(),this.vmWriter.writeArithmetic("add"),this.vmWriter.writePop("temp",0);var i=this.tokenizer.getSymbolToken();if("]"!==i.symbol)throw new Error("Expected closing ] in array indexed let statement");this.tagToken(i),r=this.tokenizer.advance()}if("SYMBOL"!==r.tokenType||"="!==r.symbol)throw new Error("Expected = operator in let statement");this.tagToken(r),this.tokenizer.advance(),this.compileExpression();var a=this.tokenizer.getSymbolToken();if(";"!==a.symbol)throw new Error("expected ; at end of let statement");this.tagToken(a),this.tokenizer.advance(),this.closeTag("letStatement"),o?(this.vmWriter.writePush("temp",0),this.vmWriter.writePop("pointer",1),this.vmWriter.writePop("that",0)):this.vmWriter.writePop(oe(n),n.index)}},{key:"compileDoStatement",value:function(){this.openTag("doStatement"),this.tagToken(this.tokenizer.getToken()),this.tokenizer.advance();var e=this.tokenizer.getIdentifierToken();this.tokenizer.advance(),this.compileSubroutineCall(e),this.tagToken(this.tokenizer.getToken()),this.tokenizer.advance(),this.closeTag("doStatement"),this.vmWriter.writePop("temp",0)}},{key:"compileReturn",value:function(){this.openTag("returnStatement"),this.tagToken(this.tokenizer.getToken());var e=this.tokenizer.advance();"SYMBOL"!==e.tokenType||";"!==e.symbol?this.compileExpression():this.vmWriter.writePush("constant",0),this.tagToken(this.tokenizer.getToken()),this.tokenizer.advance(),this.closeTag("returnStatement"),this.vmWriter.writeReturn()}},{key:"compileIf",value:function(){var e=this.ifStatementCount++;this.openTag("ifStatement"),this.tagToken(this.tokenizer.getToken()),this.tokenizer.advance(),this.tagToken(this.tokenizer.getToken()),this.tokenizer.advance(),this.compileExpression(),this.vmWriter.writeIf("IF_TRUE_".concat(e)),this.vmWriter.writeGoto("IF_FALSE_".concat(e)),this.vmWriter.writeLabel("IF_TRUE_".concat(e)),this.tagToken(this.tokenizer.getToken()),this.tokenizer.advance(),this.tagToken(this.tokenizer.getToken()),this.tokenizer.advance(),this.compileStatements(),this.tagToken(this.tokenizer.getToken()),this.tokenizer.advance();var t=this.tokenizer.getToken();"KEYWORD"===t.tokenType&&"else"===t.keyWord?(this.tagToken(t),this.tokenizer.advance(),this.tagToken(this.tokenizer.getToken()),this.tokenizer.advance(),this.vmWriter.writeGoto("IF_END_".concat(e)),this.vmWriter.writeLabel("IF_FALSE_".concat(e)),this.compileStatements(),this.vmWriter.writeLabel("IF_END_".concat(e)),this.tagToken(this.tokenizer.getToken()),this.tokenizer.advance()):this.vmWriter.writeLabel("IF_FALSE_".concat(e)),this.closeTag("ifStatement")}},{key:"compileWhile",value:function(){var e=this.whileLoopCount++;this.openTag("whileStatement"),this.tagToken(this.tokenizer.getToken()),this.tokenizer.advance(),this.tagToken(this.tokenizer.getToken()),this.tokenizer.advance(),this.vmWriter.writeLabel("WHILE_".concat(e)),this.compileExpression(),this.vmWriter.writeArithmetic("not"),this.vmWriter.writeIf("WHILE_END_".concat(e)),this.tagToken(this.tokenizer.getToken()),this.tokenizer.advance(),this.tagToken(this.tokenizer.getToken()),this.tokenizer.advance(),this.compileStatements(),this.vmWriter.writeGoto("WHILE_".concat(e)),this.vmWriter.writeLabel("WHILE_END_".concat(e)),this.tagToken(this.tokenizer.getToken()),this.tokenizer.advance(),this.closeTag("whileStatement")}},{key:"compileStatement",value:function(){var e=this.tokenizer.getKeywordToken().keyWord;if("let"===e)this.compileLetStatement();else if("do"===e)this.compileDoStatement();else if("return"===e)this.compileReturn();else if("if"===e)this.compileIf();else{if("while"!==e)throw new Error("Unknown statement type: "+e);this.compileWhile()}}},{key:"compileStatements",value:function(){this.openTag("statements");for(var e=this.tokenizer.getToken();this.isStatement(e);)this.compileStatement(),e=this.tokenizer.getToken();this.closeTag("statements")}},{key:"compileSubroutineBody",value:function(){this.compileStatements();var e=this.tokenizer.getSymbolToken();if("}"!==e.symbol)throw new Error("Expected } symbol at end of subroutine body");this.tagToken(e),this.tokenizer.advance(),this.closeTag("subroutineBody")}},{key:"compileSubroutineDec",value:function(){this.table.startSubroutine(),this.openTag("subroutineDec");var e,t=this.tokenizer.getKeywordToken();if(e=t.keyWord,!$.includes(e))throw new Error("subroutines must start with constructor, function, or method keyword");this.tagToken(t),"method"===t.keyWord&&this.table.addIdentifier("this",this.className,"arg"),this.tokenizer.advance();var n=this.tokenizer.getToken();"KEYWORD"===n.tokenType&&"void"===n.keyWord?(this.tagToken(n),this.tokenizer.advance()):this.compileType();var r=this.tokenizer.getIdentifierToken(),o=r.identifier;this.tagIdenfitier(r.identifier,"subroutine","defined","none","KEYWORD"===n.tokenType&&n.keyWord||"IDENTIFIER"===n.tokenType&&n.identifier||"UNKNOWN",0),this.tagToken(r),this.tokenizer.advance();var i=this.tokenizer.getSymbolToken();if("("!==i.symbol)throw new Error("Expected ( token after subroutine name");this.tagToken(i),this.tokenizer.advance(),this.compileParameterList();var a=this.tokenizer.getSymbolToken();if(")"!==a.symbol)throw new Error("Expected ) token after parameter list");this.tagToken(a),this.tokenizer.advance(),this.openTag("subroutineBody");var s=this.tokenizer.getSymbolToken();if("{"!==s.symbol)throw new Error("Expected { symbol at beginning of subroutine body");this.tagToken(s);for(var c=this.tokenizer.advance(),d=0;"KEYWORD"===c.tokenType&&"var"===c.keyWord;)d+=this.compileVarDec(),c=this.tokenizer.getToken();if("function"===t.keyWord)this.vmWriter.writeFunction("".concat(this.className,".").concat(o),d),this.vmWriter.indent();else if("constructor"===t.keyWord)this.vmWriter.writeFunction("".concat(this.className,".").concat(o),d),this.vmWriter.indent(),this.vmWriter.writeComment("begin constructor setup"),this.vmWriter.writePush("constant",this.table.getNumFields()),this.vmWriter.writeCall("Memory.alloc",1),this.vmWriter.writePop("pointer",0),this.vmWriter.writeComment("end constructor setup");else{if("method"!==t.keyWord)throw new Error("Not sure how to handle subroutine type "+t.keyWord);this.vmWriter.writeFunction("".concat(this.className,".").concat(o),d),this.vmWriter.indent(),this.vmWriter.writeComment("begin method setup"),this.vmWriter.writePush("argument",0),this.vmWriter.writePop("pointer",0),this.vmWriter.writeComment("end method setup")}this.compileSubroutineBody(),this.vmWriter.dedent(),this.closeTag("subroutineDec")}},{key:"compileClass",value:function(){this.openTag("class");var e=this.tokenizer.getKeywordToken();if("class"!==e.keyWord)throw new Error("Expected class keyword");this.tagToken(e);var t=this.tokenizer.advance();if("IDENTIFIER"!==t.tokenType)throw new Error("Expected identifier token after class keyword");this.className=t.identifier,this.tagIdenfitier(t.identifier,"class","defined","none","",0),this.tokenizer.advance();var n=this.tokenizer.getSymbolToken();if("{"!==n.symbol)throw new Error("Expected { symbol after class name token");this.tagToken(n);for(var r=this.tokenizer.advance();"KEYWORD"===r.tokenType&&["static","field"].includes(r.keyWord);)this.compileClassVarDec(),r=this.tokenizer.getToken();for(;"KEYWORD"===r.tokenType&&["constructor","function","method"].includes(r.keyWord);)this.compileSubroutineDec(),r=this.tokenizer.getToken();this.tagToken(r),this.tokenizer.advance(),this.closeTag("class")}},{key:"compile",value:function(){return this.tokenizer.advance(),this.compileClass(),this.log(this.vmCode),this.vmCode}}],[{key:"compile",value:function(t){return new e(t).compile()}}]),e}();function ae(e){return new C(e).assemble()}function se(e){return K.translateFiles(e.map((function(e){return{fileName:e.filename,readFile:function(){return e.text}}})))}function ce(e){return e.map((function(e){return{filename:e.filename.replace(".jack",".vm"),text:ie.compile(e.text)}}))}function de(e){var t=e.split("/");return t[t.length-1]}function ue(){return(ue=Object(M.a)(k.a.mark((function e(t,n){var r,o,i,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){var e=Object(M.a)(k.a.mark((function e(n){var r,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.filter((function(e){return e.endsWith(n)})),e.next=3,j.get().getFiles(r);case 3:return o=e.sent,e.abrupt("return",o.map((function(e){return{filename:de(e.url),text:e.data}})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=(n||{}).downTo,i=void 0===o?"hack":o,e.next=4,r(".jack");case 4:return e.t0=e.sent,e.t1=[],a={jackFiles:e.t0,vmFiles:e.t1,asmCode:"",machineCode:""},e.prev=7,e.t2=[],e.t3=Object(E.a)(ce(a.jackFiles)),e.t4=E.a,e.next=13,r(".vm");case 13:e.t5=e.sent,e.t6=(0,e.t4)(e.t5),a.vmFiles=e.t2.concat.call(e.t2,e.t3,e.t6),e.next=22;break;case 18:return e.prev=18,e.t7=e.catch(7),a.error=e.t7,e.abrupt("return",a);case 22:if("vm"!==i){e.next=24;break}return e.abrupt("return",a);case 24:e.prev=24,a.asmCode=se(a.vmFiles),e.next=32;break;case 28:return e.prev=28,e.t8=e.catch(24),a.error=e.t8,e.abrupt("return",a);case 32:if("asm"!==i){e.next=34;break}return e.abrupt("return",a);case 34:e.prev=34,a.machineCode=ae(a.asmCode),e.next=42;break;case 38:return e.prev=38,e.t9=e.catch(34),a.error=e.t9,e.abrupt("return",a);case 42:return e.abrupt("return",a);case 43:case"end":return e.stop()}}),e,null,[[7,18],[24,28],[34,38]])})))).apply(this,arguments)}var le,he,pe=n(59),Ee=n.n(pe),Te=function(){function e(t,n){Object(P.a)(this,e),this.m=void 0,this.numCycles=0,this.m=t}return Object(I.a)(e,[{key:"tick",value:function(e){this.m.tick(e),this.numCycles+=e}},{key:"reset",value:function(){this.m.reset(),this.numCycles=0}},{key:"setKeyboard",value:function(e){this.m.set_keyboard(e?ge(e.key):0)}},{key:"drawScreen",value:function(e){this.m.draw_screen(e)}}],[{key:"create",value:function(){var t=Object(M.a)(k.a.mark((function t(r,o){var i,a,s,c,d;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(3).then(n.bind(null,86));case 2:if((i=t.sent).init_panic_hook(),"Rust"===o)a=i.WebMachine.new(),r.asmCode?a.load_asm_program(r.asmCode):a.load_program(r.machineCode);else{a=i.WebVM.new(),s=Object(S.a)(r.vmFiles);try{for(s.s();!(c=s.n()).done;)d=c.value,a.load_file(d.filename,d.text)}catch(u){s.e(u)}finally{s.f()}a.init()}return t.abrupt("return",new e(a,r));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),fe=function(){var e=Object(M.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le){e.next=6;break}return he||(he=Ee()({locateFile:function(e,t){return e}})),e.next=4,he;case 4:t=e.sent,le||(le={module:t,loadProgram:t.cwrap("load_program","number",["string"]),tick:t.cwrap("tick","number",["number","number"]),reset:t.cwrap("reset",null,["number"]),renderScreen:t.cwrap("render_screen","number",["number"]),freeScreen:t.cwrap("free_screen",null,["number"])});case 6:return e.abrupt("return",le);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ge(e){var t=0;return void 0===(t={ArrowLeft:130,ArrowUp:131,ArrowRight:132,ArrowDown:133}[e])&&(t=e.charCodeAt(0)),t}var Oe=function(){function e(t,n){Object(P.a)(this,e),this._p=void 0,this.wasm=void 0,this.numCycles=0,this.wasm=t,this._p=this.wasm.loadProgram(n)}return Object(I.a)(e,[{key:"tick",value:function(e){e=e||1;var t=this.wasm.tick(this._p,e);if(-1===t)throw new Error("Failed to tick");return this.numCycles+=e,t}},{key:"reset",value:function(){this.wasm.reset(this._p),this.numCycles=0}},{key:"getRegisters",value:function(){return{PC:this.wasm.module.getValue(this._p,"i32"),A:this.wasm.module.getValue(this._p+4,"i32"),D:this.wasm.module.getValue(this._p+8,"i32")}}},{key:"dump",value:function(e,t){e=e||0,t=t||e+3;var n=this.getRegisters(),r="PC=".concat(n.PC," A=").concat(n.A," D=").concat(n.D);if(t>0){r+=" RAM[".concat(e,"..").concat(t,"]=[");for(var o=e;o<t;o++)r+=this.wasm.module.getValue(this._p+12+4*o,"i16"),o<t-1&&(r+=" ");r+="]"}return r}},{key:"setRAM",value:function(e,t){this.wasm.module.setValue(this._p+12+4*e,t,"i16")}},{key:"getRAM",value:function(e){return this.wasm.module.getValue(this._p+12+4*e,"i16")}},{key:"setKeyboard",value:function(e){this.setRAM(24576,e?ge(e.key):0)}},{key:"drawScreen",value:function(e){var t=this.wasm.renderScreen(this._p),n=new Uint8ClampedArray(this.wasm.module.HEAPU8.buffer,t,524288);e.putImageData(new ImageData(n,512,256),0,0)}}],[{key:"create",value:function(){var t=Object(M.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe();case 2:return r=t.sent,t.abrupt("return",new e(r,n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();function me(e,t){return be.apply(this,arguments)}function be(){return(be=Object(M.a)(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("C"!==t){e.next=4;break}if(!n.error){e.next=3;break}throw n.error;case 3:return e.abrupt("return",Oe.create(n.machineCode));case 4:return e.abrupt("return",Te.create(n,t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _e=function(){var e=Object(M.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(!(n=e.sent).ok){e.next=10;break}return e.next=6,n.text();case 6:return r=e.sent,e.abrupt("return",r);case 10:throw new Error("Unable to load Pong.hack");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function we(e,t){var n=t.speed,r=t.onTick,i=t.variant,a=void 0===i?"Rust":i,s=t.paused,d=void 0===s||s,u=Object(o.useState)(!1),l=Object(c.a)(u,2),h=l[0],p=l[1],E=Object(o.useState)(),T=Object(c.a)(E,2),f=T[0],g=T[1],O=Object(o.useState)(d),m=Object(c.a)(O,2),b=m[0],_=m[1],w=Object(o.useRef)(null);Object(o.useEffect)((function(){var t;p(!0);var n=null===(t=w.current)||void 0===t?void 0:t.getContext("2d");if(n&&n.clearRect(0,0,n.canvas.width,n.canvas.height),"string"===typeof e)_e(e).then(function(){var e=Object(M.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=g,e.next=3,me(a,{jackFiles:[],vmFiles:[],asmCode:"",machineCode:t});case 3:e.t1=e.sent,(0,e.t0)(e.t1),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());else if(e.length>0){(function(e,t){return ue.apply(this,arguments)})(e,{downTo:{C:"hack",Rust:"asm",RustVM:"vm"}[a]}).then(function(){var e=Object(M.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=g,e.next=3,me(a,t);case 3:e.t1=e.sent,(0,e.t0)(e.t1),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),[e,a]),Object(o.useEffect)((function(){if(f&&!b){var e=(new Date).getTime(),t=setInterval((function(){null===f||void 0===f||f.tick(n),r&&r(f,(new Date).getTime()-e)}),0);return function(){clearInterval(t)}}}),[f,b,r,n]),Object(o.useEffect)((function(){var e;if(!b&&f){var t=null===(e=w.current)||void 0===e?void 0:e.getContext("2d");if(t){var n=setInterval((function(){f.drawScreen(t)}),1e3/30);return function(){clearInterval(n)}}}}),[b,f]);var y=Object(o.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),null===f||void 0===f||f.setKeyboard(e)}),[f]),D=Object(o.useCallback)((function(){return null===f||void 0===f?void 0:f.setKeyboard(null)}),[f]);Object(o.useEffect)((function(){if(!b)return window.addEventListener("keydown",y),window.addEventListener("keyup",D),function(){window.removeEventListener("keydown",y),window.removeEventListener("keyup",D)}}),[b,y,D]);return{loading:h,canvasRef:w,paused:b,setPaused:_,reset:function(){var e;if(f){f.reset();var t=null===(e=w.current)||void 0===e?void 0:e.getContext("2d");t&&f.drawScreen(t),r&&r(f,0)}}}}var ye=function(e){var t=e.urls,n=e.children,r=Object(o.useState)(2e4),i=Object(c.a)(r,2),a=i[0],s=i[1],d=Object(o.useState)(0),u=Object(c.a)(d,2),l=u[0],h=u[1],p=Object(o.useState)(0),E=Object(c.a)(p,2),T=(E[0],E[1]),_=Object(o.useState)(!0),w=Object(c.a)(_,2),y=w[0],A=w[1],k=void 0!==t.find((function(e){return e.endsWith(".jack")||e.endsWith(".vm")})),M=we(t,{paused:!1,speed:a,onTick:Object(o.useCallback)((function(e,t){h(e.numCycles/1e3),T(e.numCycles/(t/1e3))}),[]),variant:y?"RustVM":"Rust"}),S=M.loading,P=M.canvasRef,I=M.paused,j=M.setPaused,x=M.reset;return Object(D.jsxs)(f.a,{children:[Object(D.jsxs)(g.a,{md:8,children:[Object(D.jsx)(f.a,{children:Object(D.jsx)(g.a,{children:Object(D.jsx)("canvas",{ref:P,id:"myCanvas",width:"512",height:"256",style:{border:"1px solid black",width:"100%"}})})}),Object(D.jsxs)(f.a,{className:"justify-content-between",children:[Object(D.jsxs)(g.a,{xs:"auto",children:[Object(D.jsx)(v,{onClick:function(){return j(!I)},label:I?"Play":"Pause",icon:I?"play-fill":"pause-fill",disabled:S,className:"mr-2"}),Object(D.jsx)(v,{icon:"arrow-counterclockwise",label:"Reset",onClick:x,disabled:l<=0,className:"mr-2"})]}),Object(D.jsx)(g.a,{xs:"5",children:S?Object(D.jsxs)("span",{children:[Object(D.jsx)(R.a,{animation:"border",role:"status"})," Loading..."]}):Object(D.jsxs)("p",{className:"mt-1",children:["step:"," ",Object(D.jsx)("span",{className:"font-monospace",children:Math.floor(l)}),"k"]})})]})]}),Object(D.jsxs)(g.a,{md:4,children:[n,Object(D.jsx)(b.a,{children:Object(D.jsxs)(m.a,{children:[Object(D.jsx)(b.a.Toggle,{as:m.a.Header,eventKey:"0",children:"Configuration"}),Object(D.jsx)(b.a.Collapse,{eventKey:"0",children:Object(D.jsx)(m.a.Body,{children:Object(D.jsxs)(O.a,{children:[Object(D.jsx)(O.a.Group,{children:Object(D.jsx)(O.a.Check,{type:"checkbox",label:"Use VM",disabled:!k,checked:y,onChange:function(e){return A(e.target.checked)}})}),Object(D.jsxs)(O.a.Group,{children:[Object(D.jsxs)(O.a.Label,{children:["Steps / Cycle: ",a]}),Object(D.jsx)(O.a.Control,{type:"range",min:500,max:1e5,value:a,className:"form-range",onChange:function(e){return s(parseInt(e.target.value))}})]})]})})})]})})]})]})},De=["programs/OS/Array.vm","programs/OS/Keyboard.vm","programs/OS/Math.vm","programs/OS/Memory.vm","programs/OS/Output.vm","programs/OS/Screen.vm","programs/OS/String.vm","programs/OS/Sys.vm"],ve={pong:{title:"Pong",author:"Noam Nisan and Shimon Schocken (creators of Nand2Tetris)",projectUrl:"https://www.nand2tetris.org/",instructions:"Use the arrow keys to move the paddle.",files:["programs/Pong/Bat.jack","programs/Pong/Ball.jack","programs/Pong/Main.jack","programs/Pong/PongGame.jack"]},square:{title:"Square Dance",author:"Noam Nisan and Shimon Schocken (creators of Nand2Tetris)",projectUrl:"https://www.nand2tetris.org/",instructions:"Use the arrow keys to move the square around the screen.",files:["programs/Square/Square.jack","programs/Square/SquareGame.jack","programs/Square/Main.jack"]},hackenstein3D:{title:"Hackenstein 3D",author:"James Leibert",projectUrl:"https://github.com/QuesterZen/hackenstein3D",files:["https://raw.githubusercontent.com/QuesterZen/hackenstein3D/master/dist/Display.vm","https://raw.githubusercontent.com/QuesterZen/hackenstein3D/master/dist/Main.vm","https://raw.githubusercontent.com/QuesterZen/hackenstein3D/master/dist/Player.vm","https://raw.githubusercontent.com/QuesterZen/hackenstein3D/master/dist/Walls.vm"]},scroller:{title:"Scroller",author:"Gavin Stewart",projectUrl:"https://github.com/gav-/Nand2Tetris-Games_and_Demos",files:["https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASscroller/GASscroller.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASscroller/Main.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASscroller/MathsToo.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASscroller/MemoryToo.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASscroller/Sinus.vm"]},chunky:{title:"Chunky",author:"Gavin Stewart",projectUrl:"https://github.com/gav-/Nand2Tetris-Games_and_Demos",files:["https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASchunky/ChunkyImage.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASchunky/Dither4x4.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASchunky/GASchunky.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASchunky/Head.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASchunky/Image.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASchunky/Main.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASchunky/MathsToo.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASchunky/MemoryToo.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASchunky/Monitor.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASchunky/Plasma.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASchunky/RotoZoom.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASchunky/Sinus.vm"]},boing:{title:"Boing",author:"Gavin Stewart",projectUrl:"https://github.com/gav-/Nand2Tetris-Games_and_Demos",files:["https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/GASboing.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/Image.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/Main.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/MathsToo.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/MemoryToo.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/Sinus.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/ball01.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/ball02.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/ball03.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/ball04.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/ball05.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/ball06.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/ball07.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/ball08.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/shadow01.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/shadow02.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/shadow03.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/shadow04.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/shadow05.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/shadow06.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/shadow07.vm","https://raw.githubusercontent.com/gav-/Nand2Tetris-Games_and_Demos/master/GASboing/shadow08.vm"]}};var Re=function(){var e=Object(u.f)().demoId,t=ve[void 0===e?"pong":e],n=t?[].concat(Object(E.a)(t.files),Object(E.a)(De)):[];return Object(D.jsxs)(T.a,{children:[Object(D.jsx)(f.a,{children:Object(D.jsxs)(g.a,{md:12,children:[Object(D.jsx)("strong",{className:"fs-5",children:t.title}),Object(D.jsxs)("p",{children:["by ",t.author]})]})}),Object(D.jsxs)(ye,{urls:n,children:[t.instructions&&Object(D.jsx)("p",{children:t.instructions}),Object(D.jsxs)("p",{children:["This demo program for the hack platform was written by ",t.author,". You can find the code for it ",Object(D.jsx)("a",{href:t.projectUrl,children:"here"}),"."]})]})]})};var Ae=function(){return Object(D.jsx)(T.a,{children:Object(D.jsx)(f.a,{children:Object(D.jsxs)(g.a,{md:{span:8,offset:2},children:[Object(D.jsx)("h3",{children:"About"}),Object(D.jsxs)("p",{children:["I recently finished reading"," ",Object(D.jsx)("a",{href:"https://www.nand2tetris.org/book",target:"_blank",rel:"noopener noreferrer",children:"The Elements of Computing Systems"}),", which walks through building a complete computing system from logic gates all the way through to the implementation of a high level programming language and basic operating system. The book is part of a course called"," ",Object(D.jsx)("a",{href:"https://www.nand2tetris.org/",target:"_blank",rel:"noopener noreferrer",children:"Nand to Tetris"}),", created by Noam Nisan and Shimon Schocken, which is taught online and in person."]}),Object(D.jsxs)("p",{children:["In an effort to continue the fun, and learn some more stuff, I decided to recreate the emulator programs that come with the book in a way that will run inside a web browser, without having to download anything. The emulators are written in"," ",Object(D.jsx)("a",{href:"https://www.rust-lang.org/",target:"_blank",rel:"noopener noreferrer",children:"Rust"})," ","and compiled to"," ",Object(D.jsx)("a",{href:"https://webassembly.org/",target:"_blank",rel:"noopener noreferrer",children:"Web Assembly"}),", with some javascript glue code to handle canvas rendering and keyboard events."]}),Object(D.jsx)("p",{children:"Checkout some of the demos:"}),Object(D.jsx)("ul",{children:Object.keys(ve).map((function(e){return Object(D.jsx)("li",{children:Object(D.jsx)(d.b,{to:"/emulator/".concat(e),children:ve[e].title})},e)}))})]})})})};var ke=function(){var e=Object(o.useState)(!1),t=Object(c.a)(e,2),n=t[0],r=t[1],i=function(){r(!1)};return Object(D.jsxs)(d.a,{children:[Object(D.jsxs)(l.a,{bg:"light",expand:"lg",className:"mb-2",expanded:n,onToggle:function(e){r(e)},children:[Object(D.jsx)(l.a.Brand,{href:"/",children:"Nand2Tetris Emulators"}),Object(D.jsx)(l.a.Toggle,{}),Object(D.jsx)(l.a.Collapse,{id:"basic-navbar-nav",children:Object(D.jsxs)(p.a,{className:"mr-auto",role:"",children:[Object(D.jsx)(p.a.Link,{as:d.b,to:"/",children:"About"}),Object(D.jsx)(h.a,{title:"Demos",id:"basic-nav-dropdown",menuRole:"",focusFirstItemOnShow:!1,children:Object.keys(ve).map((function(e){return Object(D.jsx)(h.a.Item,{onSelect:i,as:d.b,to:"/emulator/".concat(e),children:ve[e].title},e)}))})]})})]}),Object(D.jsxs)(u.c,{children:[Object(D.jsx)(u.a,{path:"/emulator/:demoId",children:Object(D.jsx)(Re,{})}),Object(D.jsx)(u.a,{path:"/emulator",children:Object(D.jsx)(Re,{})}),Object(D.jsx)(u.a,{path:"/",children:Object(D.jsx)(Ae,{})})]})]})},Me=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,87)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),i(e),a(e)}))};s.a.render(Object(D.jsx)(i.a.StrictMode,{children:Object(D.jsx)(ke,{})}),document.getElementById("root")),Me()}},[[78,1,2]]]);
//# sourceMappingURL=main.1f10de00.chunk.js.map